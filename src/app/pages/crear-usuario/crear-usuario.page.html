<ion-header>
  <ion-toolbar color="primary">
    <ion-title>Crear Usuario</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="form-card">
    <h2>Introduce los detalles del usuario</h2>

    <form (submit)="saveUser()" class="custom-form">
      <!-- Nombre -->
      <div class="form-group">
        <label class="floating-label" [class.shrink]="hasValue(newUser.name)">Nombre</label>
        <input 
          [(ngModel)]="newUser.name" 
          class="native-input"
          name="name" 
          required
          (input)="capitalizeName()"
        >
      </div>

      <!-- Nombre de Usuario -->
      <div class="form-group">
        <label class="floating-label" [class.shrink]="hasValue(newUser.username)">Nombre de Usuario</label>
        <input 
          [(ngModel)]="newUser.username" 
          class="native-input"
          name="username" 
          required
        >
      </div>

      <!-- Teléfono -->
      <div class="form-group">
        <label class="floating-label" [class.shrink]="hasValue(newUser.phone)">Teléfono</label>
        <input 
          [(ngModel)]="newUser.phone" 
          class="native-input"
          name="phone"
          type="tel"
          inputmode="numeric"
          maxlength="10"
          (input)="validateNumericInput($event)"
        >
      </div>

      <!-- Rol -->
      <div class="form-group">
        <label class="floating-label" [class.shrink]="hasValue(newUser.role)">Rol</label>
        <select
          [(ngModel)]="newUser.role"
          class="native-select"
          name="role"
          required
        >
          <option value="" disabled selected hidden>Seleccione un rol</option>
          <option value="1">Administrador</option>
          <option value="4">Vendedor</option>
        </select>
      </div>

      <!-- Contraseña con alternar visibilidad -->
      <div class="form-group password-group">
        <label class="floating-label" [class.shrink]="hasValue(newUser.password)">Contraseña</label>
        <input 
          [(ngModel)]="newUser.password"
          class="native-input"
          name="password"
          [type]="showPassword ? 'text' : 'password'"
          required
        >
        <ion-icon
          [name]="showPassword ? 'eye-off-outline' : 'eye-outline'"
          class="password-toggle-icon"
          (click)="togglePasswordVisibility()">
        </ion-icon>
      </div>

      <!-- Botón Guardar -->
      <div class="form-footer">
        <button type="submit" class="native-button success-button">
          <ion-icon name="checkmark-outline"></ion-icon>
          Guardar Usuario
        </button>
      </div>
    </form>
  </div>
</ion-content>