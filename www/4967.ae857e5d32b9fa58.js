"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4967],{4967:(E,v,l)=>{l.r(v),l.d(v,{ProveedoresInfoPageModule:()=>C});var u=l(177),p=l(4341),i=l(7125),d=l(620),f=l(467),e=l(4438),m=l(4934);const g=r=>({"font-weight":r});function h(r,a){if(1&r&&(e.j41(0,"p"),e.EFF(1),e.k0s()),2&r){const t=e.XpG();e.R7$(),e.JRh(null==t.provider?null:t.provider.created_at)}}function P(r,a){if(1&r&&(e.j41(0,"p"),e.EFF(1),e.k0s()),2&r){const t=e.XpG();e.R7$(),e.JRh(null==t.provider?null:t.provider.last_updated)}}function b(r,a){if(1&r&&(e.j41(0,"p"),e.EFF(1),e.k0s()),2&r){const t=e.XpG();e.R7$(),e.JRh(null==t.provider?null:t.provider.name)}}function _(r,a){if(1&r){const t=e.RV6();e.j41(0,"ion-input",19),e.mxI("ngModelChange",function(o){e.eBV(t);const s=e.XpG();return e.DH7(s.provider.name,o)||(s.provider.name=o),e.Njj(o)}),e.k0s()}if(2&r){const t=e.XpG();e.R50("ngModel",t.provider.name)}}function I(r,a){if(1&r){const t=e.RV6();e.j41(0,"ion-footer",20)(1,"div",21)(2,"ion-button",22),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.saveChanges())}),e.nrm(3,"ion-icon",23),e.EFF(4," Guardar "),e.k0s(),e.j41(5,"ion-button",24),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.cancelEdit())}),e.nrm(6,"ion-icon",25),e.EFF(7," Cancelar "),e.k0s()()()}}const M=[{path:"",component:(()=>{var r;class a{constructor(n,o,s,c){this.route=n,this.router=o,this.inventoryService=s,this.alertController=c,this.providerInfo={},this.isEditMode=!1}ngOnInit(){this.providerId=this.route.snapshot.paramMap.get("id")||"",console.log("ID del proveedor obtenido:",this.providerId),this.providerId?this.loadProviderInfo(this.providerId):console.warn("No se recibi\xf3 ning\xfan ID en la URL.")}loadProviderInfo(n){this.inventoryService.getProviders().subscribe({next:o=>{if(o.success){const s=o.data.find(c=>c.id===parseInt(n,10));s?(this.provider=s,console.log("Informaci\xf3n del proveedor:",this.provider)):console.warn("No se encontr\xf3 el proveedor con el ID:",n)}else console.warn("No se pudo cargar la lista de proveedores.")},error:o=>{console.error("Error al cargar la lista de proveedores:",o)}})}toggleEditMode(){this.isEditMode=!this.isEditMode}confirmSaveChanges(){var n=this;return(0,f.A)(function*(){yield(yield n.alertController.create({header:"Confirmar Actualizaci\xf3n",message:"\xbfEst\xe1s seguro de que deseas actualizar este proveedor?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Actualizar",handler:()=>{n.saveChanges()}}]})).present()})()}saveChanges(){this.inventoryService.updateProvider({id:this.provider.id,name:this.provider.name}).subscribe({next:o=>{o.success?(this.showAlert("\xc9xito","Proveedor actualizado correctamente."),this.isEditMode=!1,window.location.href="/proveedores"):this.showAlert("Error",o.message)},error:o=>{console.error("Error al actualizar el proveedor:",o),this.showAlert("Error","Ocurri\xf3 un error al actualizar el proveedor.")}})}confirmDelete(){var n=this;return(0,f.A)(function*(){yield(yield n.alertController.create({header:"Confirmar Eliminaci\xf3n",message:"\xbfEst\xe1s seguro de que deseas eliminar este proveedor?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Eliminar",handler:()=>{n.deleteProvider()}}]})).present()})()}deleteProvider(){this.inventoryService.deleteProvider(this.provider.id).subscribe({next:n=>{n.success?(this.showAlert("\xc9xito","Proveedor eliminado correctamente."),this.router.navigate(["/proveedores"]).then(()=>{window.location.reload()})):this.showAlert("Error","Error al eliminar el proveedor: "+n.message)},error:n=>{console.error("Error al eliminar el proveedor:",n),this.showAlert("Error","Ocurri\xf3 un error al eliminar el proveedor.")}})}showAlert(n,o){var s=this;return(0,f.A)(function*(){yield(yield s.alertController.create({header:n,message:o,buttons:["OK"]})).present()})()}cancelEdit(){console.log("Cancelando edici\xf3n"),this.isEditMode=!1,this.loadProviderInfo(this.provider.id)}goBack(){this.router.navigate(["/proveedores"])}}return(r=a).\u0275fac=function(n){return new(n||r)(e.rXU(d.nX),e.rXU(d.Ix),e.rXU(m.c),e.rXU(i.hG))},r.\u0275cmp=e.VBU({type:r,selectors:[["app-proveedores-info"]],decls:47,vars:16,consts:[[1,"profile-header"],[1,"profile-avatar"],["src","assets/user_src.png","alt","Proveedor"],[1,"top-button-container"],["color","light",1,"regresar-button",3,"click"],["name","arrow-back-outline","slot","start"],["color","secondary",3,"click"],["name","create-outline","slot","start"],["color","danger",3,"click"],["name","trash-outline","slot","start"],[1,"account-info"],[1,"top-cliente"],["lines","none"],["name","time-outline","slot","start"],[3,"ngStyle"],[4,"ngIf"],["name","refresh-outline","slot","start"],["placeholder","Nombre del Proveedor",3,"ngModel","ngModelChange",4,"ngIf"],["class","edit-footer",4,"ngIf"],["placeholder","Nombre del Proveedor",3,"ngModelChange","ngModel"],[1,"edit-footer"],[1,"bottom-action-buttons"],["expand","block","color","success",1,"guardar-button",3,"click"],["slot","start","name","checkmark-outline"],["expand","block","color","danger",1,"cancelar-button",3,"click"],["slot","start","name","close-outline"]],template:function(n,o){1&n&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"Informaci\xf3n del Proveedor"),e.k0s()()(),e.j41(4,"ion-content")(5,"div",0)(6,"ion-avatar",1),e.nrm(7,"img",2),e.k0s(),e.j41(8,"h2"),e.EFF(9),e.k0s(),e.j41(10,"p"),e.EFF(11),e.k0s()(),e.j41(12,"div",3)(13,"ion-button",4),e.bIt("click",function(){return o.goBack()}),e.nrm(14,"ion-icon",5),e.EFF(15," Regresar "),e.k0s(),e.j41(16,"ion-button",6),e.bIt("click",function(){return o.toggleEditMode()}),e.nrm(17,"ion-icon",7),e.EFF(18," Editar "),e.k0s(),e.j41(19,"ion-button",8),e.bIt("click",function(){return o.confirmDelete()}),e.nrm(20,"ion-icon",9),e.EFF(21," Eliminar "),e.k0s()(),e.j41(22,"div",10)(23,"div",11)(24,"h3"),e.EFF(25,"Detalles del Proveedor"),e.k0s()(),e.j41(26,"ion-list",12)(27,"ion-item"),e.nrm(28,"ion-icon",13),e.j41(29,"ion-label")(30,"h2",14),e.EFF(31,"Fecha de Creaci\xf3n"),e.k0s(),e.DNE(32,h,2,1,"p",15),e.k0s()(),e.j41(33,"ion-item"),e.nrm(34,"ion-icon",16),e.j41(35,"ion-label")(36,"h2",14),e.EFF(37,"\xdaltima Actualizaci\xf3n"),e.k0s(),e.DNE(38,P,2,1,"p",15),e.k0s()(),e.j41(39,"ion-item"),e.nrm(40,"ion-icon",7),e.j41(41,"ion-label")(42,"h2",14),e.EFF(43,"Nombre"),e.k0s(),e.DNE(44,b,2,1,"p",15)(45,_,1,1,"ion-input",17),e.k0s()()(),e.DNE(46,I,8,0,"ion-footer",18),e.k0s()()),2&n&&(e.R7$(9),e.JRh(null==o.provider?null:o.provider.name),e.R7$(2),e.SpI("ID: ",null==o.provider?null:o.provider.id,""),e.R7$(19),e.Y8G("ngStyle",e.eq3(10,g,o.isEditMode?"bold":"normal")),e.R7$(2),e.Y8G("ngIf",!o.isEditMode),e.R7$(4),e.Y8G("ngStyle",e.eq3(12,g,o.isEditMode?"bold":"normal")),e.R7$(2),e.Y8G("ngIf",!o.isEditMode),e.R7$(4),e.Y8G("ngStyle",e.eq3(14,g,o.isEditMode?"bold":"normal")),e.R7$(2),e.Y8G("ngIf",!o.isEditMode),e.R7$(),e.Y8G("ngIf",o.isEditMode),e.R7$(),e.Y8G("ngIf",o.isEditMode))},dependencies:[u.bT,u.B3,p.BC,p.vS,i.mC,i.Jm,i.W9,i.M0,i.eU,i.iq,i.$w,i.uz,i.he,i.nf,i.BC,i.ai,i.Gw],styles:["ion-content[_ngcontent-%COMP%]{--background: #f7f7f7}.profile-header[_ngcontent-%COMP%]{text-align:center;padding:50px 20px;background:linear-gradient(to bottom,#3880ff,#dfdfdf);color:#fff;border-bottom-left-radius:20px;border-bottom-right-radius:20px;display:flex;flex-direction:column;align-items:center;justify-content:center;max-width:800px;margin:0 auto}.profile-avatar[_ngcontent-%COMP%]{width:120px;height:120px;margin-bottom:10px;border-radius:50%;overflow:hidden;border:3px solid white}.top-button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;gap:20px;padding:10px 0;background:#3880ff;border-bottom-left-radius:20px;border-bottom-right-radius:20px;max-width:800px;margin:-20px auto 0}.top-button-container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:auto;font-size:.9rem}.regresar-button[_ngcontent-%COMP%]::part(native){background-color:#fff!important;color:#2f4f4f}.account-info[_ngcontent-%COMP%]{padding:30px;margin:30px auto;background:#fff;border-radius:15px;box-shadow:0 4px 8px #0000001a;max-width:700px;text-align:left}ion-list[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1rem;color:#333;margin-bottom:5px}ion-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:4px;font-size:.9rem;color:#666}.bottom-action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:20px 0 0;margin:0 auto;max-width:700px}.bottom-action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{flex:1;margin:0 10px;font-weight:700;color:#fff;--border-radius: 8px;--padding: 10px 0}.guardar-button[_ngcontent-%COMP%]::part(native){--background: linear-gradient(to right, #28a745, #218838);color:#fff}.cancelar-button[_ngcontent-%COMP%]::part(native){--background: linear-gradient(to right, #dc3545, #c82333)}@media (min-width: 768px){.profile-header[_ngcontent-%COMP%], .account-info[_ngcontent-%COMP%], .top-button-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.top-button-container[_ngcontent-%COMP%]{margin-top:-15px}}.ver-historial[_ngcontent-%COMP%]::part(native){--background-color: linear-gradient(to right, #3880ff, #8fb1ee);padding:8px;color:#fff}.edit-footer[_ngcontent-%COMP%]{box-shadow:none}"]}),a})()}];let x=(()=>{var r;class a{}return(r=a).\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[d.iI.forChild(M),d.iI]}),a})(),C=(()=>{var r;class a{}return(r=a).\u0275fac=function(n){return new(n||r)},r.\u0275mod=e.$C({type:r}),r.\u0275inj=e.G2t({imports:[u.MD,p.YN,i.bv,x]}),a})()}}]);