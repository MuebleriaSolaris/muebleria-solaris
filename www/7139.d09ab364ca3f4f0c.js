"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7139],{7139:(C,b,s)=>{s.r(b),s.d(b,{ProductoPageModule:()=>W});var _=s(177),h=s(4341),l=s(7125),m=s(5520),d=s(467),p=s(3114),E=s(2704),v=s(3207),t=s(4438),x=s(4934),y=s(3656),I=s(1626),k=s(4796),j=s(4191);let S=(()=>{var r;class c{constructor(){this.changesMap={}}setChangesDetected(o,e){this.changesMap[o]=e}hasChanges(o){return this.changesMap[o]||!1}reset(o){this.changesMap[o]=!1}}return(r=c).\u0275fac=function(o){return new(o||r)},r.\u0275prov=t.jDH({token:r,factory:r.\u0275fac,providedIn:"root"}),c})();const g=r=>({"font-weight":r});function G(r,c){if(1&r){const i=t.RV6();t.j41(0,"ion-input",28),t.mxI("ngModelChange",function(e){t.eBV(i);const n=t.XpG(2);return t.DH7(n.product.name,e)||(n.product.name=e),t.Njj(e)}),t.k0s()}if(2&r){const i=t.XpG(2);t.R50("ngModel",i.product.name)}}function F(r,c){if(1&r&&(t.j41(0,"ion-item"),t.nrm(1,"ion-icon",26),t.j41(2,"ion-label")(3,"h2",15),t.EFF(4,"Nombre"),t.k0s(),t.DNE(5,G,1,1,"ion-input",27),t.k0s()()),2&r){const i=t.XpG();t.R7$(3),t.Y8G("ngStyle",t.eq3(2,g,i.isEditMode?"bold":"normal")),t.R7$(2),t.Y8G("ngIf",i.isEditMode)}}function R(r,c){if(1&r&&(t.j41(0,"p"),t.EFF(1),t.nI1(2,"number"),t.k0s()),2&r){const i=t.XpG();t.R7$(),t.SpI("$ ",t.i5U(2,1,null==i.product?null:i.product.credit_price,"1.2-2"),"")}}function D(r,c){if(1&r){const i=t.RV6();t.j41(0,"ion-input",29),t.mxI("ngModelChange",function(e){t.eBV(i);const n=t.XpG();return t.DH7(n.product.credit_price,e)||(n.product.credit_price=e),t.Njj(e)}),t.bIt("ionInput",function(e){t.eBV(i);const n=t.XpG();return t.Njj(n.validateCreditPriceInput(e))}),t.k0s()}if(2&r){const i=t.XpG();t.R50("ngModel",i.product.credit_price)}}function w(r,c){if(1&r&&(t.j41(0,"p"),t.EFF(1),t.k0s()),2&r){const i=t.XpG(2);t.R7$(),t.SpI("$ ",null==i.product?null:i.product.prov_price,"")}}function O(r,c){if(1&r){const i=t.RV6();t.j41(0,"ion-input",32),t.mxI("ngModelChange",function(e){t.eBV(i);const n=t.XpG(2);return t.DH7(n.product.prov_price,e)||(n.product.prov_price=e),t.Njj(e)}),t.bIt("ionInput",function(e){t.eBV(i);const n=t.XpG(2);return t.Njj(n.validateProvPriceInput(e))}),t.k0s()}if(2&r){const i=t.XpG(2);t.R50("ngModel",i.product.prov_price)}}function T(r,c){if(1&r&&(t.j41(0,"ion-item"),t.nrm(1,"ion-icon",30),t.j41(2,"ion-label")(3,"h2",15),t.EFF(4,"Precio Provedor"),t.k0s(),t.DNE(5,w,2,1,"p",13)(6,O,1,1,"ion-input",31),t.k0s()()),2&r){const i=t.XpG();t.R7$(3),t.Y8G("ngStyle",t.eq3(3,g,i.isEditMode?"bold":"normal")),t.R7$(2),t.Y8G("ngIf",!i.isEditMode),t.R7$(),t.Y8G("ngIf",i.isEditMode)}}function X(r,c){if(1&r&&(t.j41(0,"p"),t.EFF(1),t.k0s()),2&r){const i=t.XpG();t.R7$(),t.JRh(i.getSubCategoryName(i.product.sub_category_id))}}function $(r,c){if(1&r&&(t.j41(0,"ion-select-option",35),t.EFF(1),t.k0s()),2&r){const i=c.$implicit;t.Y8G("value",i.id),t.R7$(),t.SpI(" ",i.name," ")}}function N(r,c){if(1&r){const i=t.RV6();t.j41(0,"ion-select",33),t.mxI("ngModelChange",function(e){t.eBV(i);const n=t.XpG();return t.DH7(n.product.sub_category_id,e)||(n.product.sub_category_id=e),t.Njj(e)}),t.DNE(1,$,2,2,"ion-select-option",34),t.k0s()}if(2&r){const i=t.XpG();t.R50("ngModel",i.product.sub_category_id),t.R7$(),t.Y8G("ngForOf",i.subCategories)}}function Y(r,c){if(1&r&&(t.j41(0,"p"),t.EFF(1),t.k0s()),2&r){const i=t.XpG();t.R7$(),t.JRh(null==i.product?null:i.product.current_stock)}}function A(r,c){if(1&r){const i=t.RV6();t.j41(0,"ion-input",36),t.mxI("ngModelChange",function(e){t.eBV(i);const n=t.XpG();return t.DH7(n.product.current_stock,e)||(n.product.current_stock=e),t.Njj(e)}),t.bIt("ionInput",function(e){t.eBV(i);const n=t.XpG();return t.Njj(n.validateStockInput(e))}),t.k0s()}if(2&r){const i=t.XpG();t.R50("ngModel",i.product.current_stock)}}function U(r,c){if(1&r&&(t.j41(0,"p"),t.EFF(1),t.k0s()),2&r){const i=t.XpG();t.R7$(),t.JRh(null==i.product?null:i.product.max_amount)}}function B(r,c){if(1&r){const i=t.RV6();t.j41(0,"ion-input",36),t.mxI("ngModelChange",function(e){t.eBV(i);const n=t.XpG();return t.DH7(n.product.max_amount,e)||(n.product.max_amount=e),t.Njj(e)}),t.bIt("ionInput",function(e){t.eBV(i);const n=t.XpG();return t.Njj(n.validateStockInput(e))}),t.k0s()}if(2&r){const i=t.XpG();t.R50("ngModel",i.product.max_amount)}}function V(r,c){if(1&r&&(t.j41(0,"p"),t.EFF(1),t.k0s()),2&r){const i=t.XpG();t.R7$(),t.JRh(null==i.product?null:i.product.provider_name)}}function z(r,c){if(1&r&&(t.j41(0,"ion-select-option",35),t.EFF(1),t.k0s()),2&r){const i=c.$implicit;t.Y8G("value",i.id),t.R7$(),t.SpI(" ",i.name," ")}}function H(r,c){if(1&r){const i=t.RV6();t.j41(0,"ion-select",37),t.mxI("ngModelChange",function(e){t.eBV(i);const n=t.XpG();return t.DH7(n.product.provider_id,e)||(n.product.provider_id=e),t.Njj(e)}),t.DNE(1,z,2,2,"ion-select-option",34),t.k0s()}if(2&r){const i=t.XpG();t.R50("ngModel",i.product.provider_id),t.R7$(),t.Y8G("ngForOf",i.providers)}}function J(r,c){if(1&r){const i=t.RV6();t.j41(0,"ion-footer",38)(1,"div",39)(2,"ion-button",40),t.bIt("click",function(){t.eBV(i);const e=t.XpG();return t.Njj(e.saveChanges())}),t.nrm(3,"ion-icon",41),t.EFF(4," Guardar "),t.k0s(),t.j41(5,"ion-button",42),t.bIt("click",function(){t.eBV(i);const e=t.XpG();return t.Njj(e.cancelEdit())}),t.nrm(6,"ion-icon",43),t.EFF(7," Cancelar "),t.k0s()()()}}const K=[{path:"",component:(()=>{var r;class c{constructor(o,e,n,a,u,M,f,P,Q,q,Z,tt){this.route=o,this.inventoryService=e,this.alertController=n,this.router=a,this.http=u,this.authService=M,this.actionSheetController=f,this.modalController=P,this.imageState=Q,this.platform=q,this.changeDetector=Z,this.loadingController=tt,this.providers=[],this.isEditMode=!1,this.esGerente=!1,this.imageUrl=null,this.subCategories=[],this.subCategoryName=""}ngOnInit(){const o=this.authService.getUserId();o&&this.http.get(`https://muebleriasolaris.com/ionic-login/check_gerencia.php?userid=${o}`).subscribe(n=>{n.success?this.esGerente=n.isGerente:console.error("Error en la respuesta de la API:",n.error),console.log("\xbfEs gerente?",this.esGerente),console.log("ID de usuario:",o)},n=>{console.error("Error en la llamada HTTP:",n)});const e=+this.route.snapshot.paramMap.get("id");this.fetchProduct(e),this.fetchProviders(),this.loadSubCategories()}loadSubCategories(){this.inventoryService.getSubCategories().subscribe(o=>{o.success&&(this.subCategories=o.data)},o=>{console.error("Error al cargar las subcategor\xedas:",o)})}getSubCategoryName(o){if(!o)return"Sin subcategor\xeda";const e=this.subCategories.find(n=>n.id===o);return e?e.name:"Sin subcategor\xeda"}viewImage(){var o=this;return(0,d.A)(function*(){o.product.image_url?yield(yield o.modalController.create({component:E.d,componentProps:{imageUrl:o.product.image_url}})).present():yield o.showAlert("Error","No hay imagen para mostrar.")})()}uploadImage(o){var e=this;return(0,d.A)(function*(){const n=yield e.loadingController.create({message:"Subiendo imagen...",spinner:"crescent"});yield n.present();try{const a=e.product.product_id,M=yield(yield fetch(o)).blob(),f=new FormData;f.append("image",M,`product_${a}.jpg`),f.append("product_id",a.toString());const P=yield(0,v.s)(e.http.post("https://muebleriasolaris.com/ionic-products/ftp_image_upload.php",f));if("success"!==P.status)throw new Error(P.message||"Error en la respuesta del servidor");e.product.image_url=P.image_url,e.imageState.getImageUrl(a),e.product={...e.product},e.changeDetector.setChangesDetected(`product_${e.product.product_id}`,!0),yield e.showAlert("\xc9xito","Imagen actualizada correctamente.")}catch(a){console.error("Error al subir la imagen:",a),yield e.showAlert("Error","Ocurri\xf3 un error al subir la imagen.")}finally{yield n.dismiss()}})()}deleteImage(){var o=this;return(0,d.A)(function*(){const e=yield o.loadingController.create({message:"Eliminando imagen...",spinner:"dots"});yield e.present();try{const n=o.product.product_id,a=new FormData;a.append("product_id",n.toString());const u=yield(0,v.s)(o.http.post("https://muebleriasolaris.com/ionic-products/ftp_image_delete.php",a));if("success"!==u.status)throw new Error(u.message||"Error en la respuesta del servidor");o.product.image_url="assets/product_placeholder.png",o.changeDetector.setChangesDetected(`product_${o.product.product_id}`,!0),yield o.showAlert("\xc9xito","Imagen eliminada correctamente.")}catch(n){console.error("Error al eliminar la imagen:",n),yield o.showAlert("Error","Ocurri\xf3 un error al eliminar la imagen.")}finally{yield e.dismiss()}})()}changeImage(){var o=this;return(0,d.A)(function*(){try{const e=yield p.i7.getPhoto({quality:90,allowEditing:!1,resultType:p.LK.Uri,source:p.ru.Photos});e.webPath&&(yield o.uploadImage(e.webPath))}catch(e){console.error("Error al seleccionar la imagen:",e)}})()}presentImageOptions(){var o=this;return(0,d.A)(function*(){console.log("Click en Imagen"),yield(yield o.actionSheetController.create({header:"Opciones de imagen",buttons:[{text:"Cambiar imagen",icon:"image",handler:()=>{o.changeImage()}},{text:"Eliminar imagen",icon:"trash",handler:()=>{o.deleteImage()}},{text:"Ver imagen",icon:"eye-outline",handler:()=>{o.viewImage()}},{text:"Cancelar",icon:"close",role:"cancel"}]})).present()})()}fetchProduct(o){this.inventoryService.getProducts().subscribe(e=>{e.success&&(this.product=e.data.find(n=>n.product_id===o),this.originalProduct={...this.product})},e=>{console.error("Error al obtener el producto:",e)})}fetchProviders(){this.inventoryService.getProviders().subscribe(o=>{o.success&&(this.providers=o.data)},o=>{console.error("Error al obtener los proveedores:",o)})}toggleEditMode(){this.isEditMode?this.product={...this.originalProduct}:this.product.updated_at=(new Date).toLocaleString(),this.isEditMode=!this.isEditMode}confirmSaveChanges(){var o=this;return(0,d.A)(function*(){yield(yield o.alertController.create({header:"Confirmar Actualizaci\xf3n",message:"\xbfEst\xe1s seguro de que deseas actualizar este producto?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Actualizar",handler:()=>{o.saveChanges()}}]})).present()})()}saveChanges(){var o=this;return(0,d.A)(function*(){if(!o.product||!o.product.product_id)return void console.error("El producto no tiene un ID v\xe1lido.");const e=yield o.loadingController.create({message:"Guardando cambios...",spinner:"bubbles"});yield e.present();try{o.product.name=o.product.name,o.product.credit_price=parseFloat(o.product.credit_price),o.product.prov_price=parseFloat(o.product.prov_price),o.product.current_stock=parseInt(o.product.current_stock,10),o.product.max_amount=parseInt(o.product.max_amount,10),console.log("Datos enviados al backend:",o.product);const n=yield(0,v.s)(o.inventoryService.saveProduct(o.product));if(!n.success)throw new Error(n.message||"Error al actualizar el producto");yield o.showAlert("\xc9xito","Producto actualizado correctamente."),o.originalProduct={...o.product},o.isEditMode=!1,o.changeDetector.setChangesDetected(`product_${o.product.product_id}`,!0),window.location.reload()}catch(n){console.error("Error al actualizar el producto:",n),yield o.showAlert("Error",n.message||"Ocurri\xf3 un error al actualizar el producto.")}finally{yield e.dismiss()}})()}confirmDelete(){var o=this;return(0,d.A)(function*(){o.deleteProduct()})()}deleteProduct(){var o=this;return(0,d.A)(function*(){var n;o.product&&o.product.product_id?yield(yield o.alertController.create({header:"Confirmar eliminaci\xf3n",message:"\xbfEst\xe1s seguro de que deseas eliminar este producto?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Eliminar",handler:(n=(0,d.A)(function*(){const a=yield o.loadingController.create({message:"Eliminando producto...",spinner:"lines"});yield a.present();try{const u=yield(0,v.s)(o.inventoryService.deleteProduct(o.product.product_id));if(!u.success)throw new Error(u.message||"Error en la respuesta del servidor");yield o.showAlert("\xc9xito","Producto eliminado correctamente."),o.changeDetector.setChangesDetected(`product_${o.product.product_id}`,!0),o.goBack()}catch(u){console.error("Error al eliminar el producto:",u),yield o.showAlert("Error",u.message||"Ocurri\xf3 un error al eliminar el producto.")}finally{yield a.dismiss()}}),function(){return n.apply(this,arguments)})}]})).present():console.error("El producto no tiene un ID v\xe1lido.")})()}showAlert(o,e,n=3e3){var a=this;return(0,d.A)(function*(){const u=yield a.alertController.create({header:o,message:e,buttons:["OK"]});yield u.present(),setTimeout(()=>{u.dismiss()},n)})()}cancelEdit(){console.log("Cancelando edici\xf3n"),this.product={...this.originalProduct},this.isEditMode=!1}goBack(){var o=this;return(0,d.A)(function*(){try{var e;const n=null===(e=o.product)||void 0===e?void 0:e.product_id,a=!!n&&o.changeDetector.hasChanges(`product_${n}`);console.log(`Navegando a inventario. Cambios: ${a}`),yield o.router.navigate(["/inventario"],{replaceUrl:!0,state:{forceRefresh:a}}),a&&(console.log("Forzando recarga..."),setTimeout(()=>{window.location.href="/inventario"},200)),n&&o.changeDetector.reset(`product_${n}`)}catch(n){console.error("Error en goBack:",n),window.location.href="/inventario"}})()}validateStockInput(o){let e=o.target.value;e=e.replace(/[^0-9]/g,""),e.length>5&&(e=e.slice(0,5)),o.target.value=e,this.product.current_stock=e}validateCreditPriceInput(o){var e;let n=o.target.value;n=n.replace(/[^0-9.]/g,"");const a=n.split(".");a.length>2&&(n=a[0]+"."+a[1]),(null===(e=a[1])||void 0===e?void 0:e.length)>2&&(n=a[0]+"."+a[1].substring(0,2)),o.target.value=n,this.product.credit_price=n}validateProvPriceInput(o){var e;let n=o.target.value;n=n.replace(/[^0-9.]/g,"");const a=n.split(".");a.length>2&&(n=a[0]+"."+a[1]),(null===(e=a[1])||void 0===e?void 0:e.length)>2&&(n=a[0]+"."+a[1].substring(0,2)),o.target.value=n,this.product.prov_price=n}}return(r=c).\u0275fac=function(o){return new(o||r)(t.rXU(m.nX),t.rXU(x.c),t.rXU(l.hG),t.rXU(m.Ix),t.rXU(I.Qq),t.rXU(k.u),t.rXU(l.GD),t.rXU(l.W3),t.rXU(j.S),t.rXU(y.OD),t.rXU(S),t.rXU(l.Xi))},r.\u0275cmp=t.VBU({type:r,selectors:[["app-producto"]],decls:72,vars:35,consts:[[1,"profile-header"],[1,"profile-avatar",3,"click"],["alt","Imagen del Producto",3,"src"],[1,"top-button-container"],["color","light",1,"regresar-button",3,"click"],["name","arrow-back-outline","slot","start"],["color","secondary",3,"click"],["name","create-outline","slot","start"],["color","danger",3,"click"],["name","trash-outline","slot","start"],[1,"account-info"],[1,"top-cliente"],["lines","none"],[4,"ngIf"],["name","cash-outline","slot","start"],[3,"ngStyle"],["placeholder","Precio Cr\xe9dito","type","text","inputmode","decimal",3,"ngModel","ngModelChange","ionInput",4,"ngIf"],["name","pricetags-outline","slot","start"],["placeholder","Seleccionar Subcategor\xeda",3,"ngModel","ngModelChange",4,"ngIf"],["name","layers-outline","slot","start"],["placeholder","Stock","type","tel","inputmode","numeric",3,"ngModel","ngModelChange","ionInput",4,"ngIf"],["name","analytics-outline","slot","start"],["name","business-outline","slot","start"],["placeholder","Seleccionar Proveedor",3,"ngModel","ngModelChange",4,"ngIf"],["name","time-outline","slot","start"],["class","edit-footer",4,"ngIf"],["name","person-outline","slot","start"],["name","name","placeholder","Nuevo Nombre","type","text","required","",3,"ngModel","ngModelChange",4,"ngIf"],["name","name","placeholder","Nuevo Nombre","type","text","required","",3,"ngModelChange","ngModel"],["placeholder","Precio Cr\xe9dito","type","text","inputmode","decimal",3,"ngModelChange","ionInput","ngModel"],["name","wallet-outline","slot","start"],["placeholder","Precio Provedor","type","text","inputmode","decimal",3,"ngModel","ngModelChange","ionInput",4,"ngIf"],["placeholder","Precio Provedor","type","text","inputmode","decimal",3,"ngModelChange","ionInput","ngModel"],["placeholder","Seleccionar Subcategor\xeda",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["placeholder","Stock","type","tel","inputmode","numeric",3,"ngModelChange","ionInput","ngModel"],["placeholder","Seleccionar Proveedor",3,"ngModelChange","ngModel"],[1,"edit-footer"],[1,"bottom-action-buttons"],["expand","block","color","success",1,"guardar-button",3,"click"],["slot","start","name","checkmark-outline"],["expand","block","color","danger",1,"cancelar-button",3,"click"],["slot","start","name","close-outline"]],template:function(o,e){1&o&&(t.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t.EFF(3,"Detalles del Producto"),t.k0s()()(),t.j41(4,"ion-content")(5,"div",0)(6,"ion-avatar",1),t.bIt("click",function(){return e.presentImageOptions()}),t.nrm(7,"img",2),t.k0s(),t.j41(8,"h2"),t.EFF(9),t.k0s(),t.j41(10,"p"),t.EFF(11),t.k0s()(),t.j41(12,"div",3)(13,"ion-button",4),t.bIt("click",function(){return e.goBack()}),t.nrm(14,"ion-icon",5),t.EFF(15," Regresar "),t.k0s(),t.j41(16,"ion-button",6),t.bIt("click",function(){return e.toggleEditMode()}),t.nrm(17,"ion-icon",7),t.EFF(18," Editar "),t.k0s(),t.j41(19,"ion-button",8),t.bIt("click",function(){return e.confirmDelete()}),t.nrm(20,"ion-icon",9),t.EFF(21," Eliminar "),t.k0s()(),t.j41(22,"div",10)(23,"div",11)(24,"h3"),t.EFF(25,"Detalles del Producto"),t.k0s()(),t.j41(26,"ion-list",12),t.DNE(27,F,6,4,"ion-item",13),t.j41(28,"ion-item"),t.nrm(29,"ion-icon",14),t.j41(30,"ion-label")(31,"h2",15),t.EFF(32,"Precio Cr\xe9dito"),t.k0s(),t.DNE(33,R,3,4,"p",13)(34,D,1,1,"ion-input",16),t.k0s()(),t.DNE(35,T,7,5,"ion-item",13),t.j41(36,"ion-item"),t.nrm(37,"ion-icon",17),t.j41(38,"ion-label")(39,"h2",15),t.EFF(40,"Sub Categor\xeda"),t.k0s(),t.DNE(41,X,2,1,"p",13)(42,N,2,2,"ion-select",18),t.k0s()(),t.j41(43,"ion-item"),t.nrm(44,"ion-icon",19),t.j41(45,"ion-label")(46,"h2",15),t.EFF(47,"Stock Disponible"),t.k0s(),t.DNE(48,Y,2,1,"p",13)(49,A,1,1,"ion-input",20),t.k0s()(),t.j41(50,"ion-item"),t.nrm(51,"ion-icon",21),t.j41(52,"ion-label")(53,"h2",15),t.EFF(54,"Max Stock"),t.k0s(),t.DNE(55,U,2,1,"p",13)(56,B,1,1,"ion-input",20),t.k0s()(),t.j41(57,"ion-item"),t.nrm(58,"ion-icon",22),t.j41(59,"ion-label")(60,"h2",15),t.EFF(61,"Proveedor"),t.k0s(),t.DNE(62,V,2,1,"p",13)(63,H,2,2,"ion-select",23),t.k0s()(),t.j41(64,"ion-item"),t.nrm(65,"ion-icon",24),t.j41(66,"ion-label")(67,"h2",15),t.EFF(68,"\xdaltima Actualizaci\xf3n"),t.k0s(),t.j41(69,"p"),t.EFF(70),t.k0s()()()(),t.DNE(71,J,8,0,"ion-footer",25),t.k0s()()),2&o&&(t.R7$(7),t.Y8G("src",e.imageState.getImageUrl(e.product),t.B4B),t.R7$(2),t.JRh(null==e.product?null:e.product.product_name),t.R7$(2),t.SpI("ID: ",null==e.product?null:e.product.product_id,""),t.R7$(16),t.Y8G("ngIf",e.isEditMode),t.R7$(4),t.Y8G("ngStyle",t.eq3(23,g,e.isEditMode?"bold":"normal")),t.R7$(2),t.Y8G("ngIf",!e.isEditMode),t.R7$(),t.Y8G("ngIf",e.isEditMode),t.R7$(),t.Y8G("ngIf",e.esGerente),t.R7$(4),t.Y8G("ngStyle",t.eq3(25,g,e.isEditMode?"bold":"normal")),t.R7$(2),t.Y8G("ngIf",!e.isEditMode),t.R7$(),t.Y8G("ngIf",e.isEditMode),t.R7$(4),t.Y8G("ngStyle",t.eq3(27,g,e.isEditMode?"bold":"normal")),t.R7$(2),t.Y8G("ngIf",!e.isEditMode),t.R7$(),t.Y8G("ngIf",e.isEditMode),t.R7$(4),t.Y8G("ngStyle",t.eq3(29,g,e.isEditMode?"bold":"normal")),t.R7$(2),t.Y8G("ngIf",!e.isEditMode),t.R7$(),t.Y8G("ngIf",e.isEditMode),t.R7$(4),t.Y8G("ngStyle",t.eq3(31,g,e.isEditMode?"bold":"normal")),t.R7$(2),t.Y8G("ngIf",!e.isEditMode),t.R7$(),t.Y8G("ngIf",e.isEditMode),t.R7$(4),t.Y8G("ngStyle",t.eq3(33,g,e.isEditMode?"bold":"normal")),t.R7$(3),t.JRh(null==e.product?null:e.product.updated_at),t.R7$(),t.Y8G("ngIf",e.isEditMode))},dependencies:[_.Sq,_.bT,_.B3,h.BC,h.YS,h.vS,l.mC,l.Jm,l.W9,l.M0,l.eU,l.iq,l.$w,l.uz,l.he,l.nf,l.Nm,l.Ip,l.BC,l.ai,l.Je,l.Gw,_.QX],styles:['@charset "UTF-8";ion-content[_ngcontent-%COMP%]{--background: #f7f7f7}.profile-header[_ngcontent-%COMP%]{text-align:center;padding:50px 20px;background:linear-gradient(to bottom,#3880ff,#dfdfdf);color:#fff;border-bottom-left-radius:20px;border-bottom-right-radius:20px;display:flex;flex-direction:column;align-items:center;justify-content:center;max-width:800px;margin:0 auto}.profile-avatar[_ngcontent-%COMP%]{width:120px;height:120px;margin-bottom:10px;border-radius:50%;overflow:hidden;border:3px solid white;background-color:#fff}.top-button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;gap:20px;padding:10px 0;background:#3880ff;border-bottom-left-radius:20px;border-bottom-right-radius:20px;max-width:800px;margin:-20px auto 0}.top-button-container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:auto;font-size:.9rem}.regresar-button[_ngcontent-%COMP%]::part(native){background-color:#fff!important;color:#2f4f4f}.account-info[_ngcontent-%COMP%]{padding:30px;margin:30px auto;background:#fff;border-radius:15px;box-shadow:0 4px 8px #0000001a;max-width:700px;text-align:left}ion-list[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1rem;color:#333;margin-bottom:5px}ion-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:4px;font-size:.9rem;color:#666}.bottom-action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:20px 0 0;margin:0 auto;max-width:700px}.bottom-action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{flex:1;margin:0 10px;font-weight:700;color:#fff;--border-radius: 8px;--padding: 10px 0}.guardar-button[_ngcontent-%COMP%]::part(native){--background: linear-gradient(to right, #28a745, #218838);color:#fff}.cancelar-button[_ngcontent-%COMP%]::part(native){--background: linear-gradient(to right, #dc3545, #c82333)}@media (min-width: 768px){.profile-header[_ngcontent-%COMP%], .account-info[_ngcontent-%COMP%], .top-button-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.top-button-container[_ngcontent-%COMP%]{margin-top:-15px}}.edit-footer[_ngcontent-%COMP%]{box-shadow:none}.edit-footer[_ngcontent-%COMP%]{background:#fff;padding:15px;box-shadow:0 -2px 10px #0000001a;position:sticky;bottom:0;z-index:10}.bottom-action-buttons[_ngcontent-%COMP%]{display:flex;gap:15px;max-width:700px;margin:0 auto;padding:0 10px}.bottom-action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{flex:1;min-height:50px;margin:0;--border-radius: 8px;font-weight:700}.guardar-button[_ngcontent-%COMP%]{--background: linear-gradient(to right, #28a745, #218838);--background-activated: #218838}.cancelar-button[_ngcontent-%COMP%]{--background: linear-gradient(to right, #dc3545, #c82333);--background-activated: #c82333}ion-content[_ngcontent-%COMP%]{--padding-bottom: 80px}@media (max-width: 480px){.bottom-action-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:10px}.bottom-action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:100%}ion-content[_ngcontent-%COMP%]{--padding-bottom: 120px}}']}),c})()}];let L=(()=>{var r;class c{}return(r=c).\u0275fac=function(o){return new(o||r)},r.\u0275mod=t.$C({type:r}),r.\u0275inj=t.G2t({imports:[m.iI.forChild(K),m.iI]}),c})(),W=(()=>{var r;class c{}return(r=c).\u0275fac=function(o){return new(o||r)},r.\u0275mod=t.$C({type:r}),r.\u0275inj=t.G2t({imports:[_.MD,h.YN,l.bv,L]}),c})()},4191:(C,b,s)=>{s.d(b,{S:()=>h});var _=s(4438);let h=(()=>{var l;class m{constructor(){}getImageUrl(p){return null!=p&&p.image_url?`${p.image_url}?t=${Date.now()}`:"assets/product_placeholder.png"}}return(l=m).\u0275fac=function(p){return new(p||l)},l.\u0275prov=_.jDH({token:l,factory:l.\u0275fac,providedIn:"root"}),m})()}}]);