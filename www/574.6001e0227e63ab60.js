"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[574],{574:(b,p,l)=>{l.d(p,{X:()=>h});var u,d=l(467),f=l(1413),e=l(4438),m=l(4934),P=l(5520),_=l(4796),x=l(4191),s=l(7125),v=l(177),y=l(4341);function M(r,t){1&r&&(e.j41(0,"div",10),e.nrm(1,"ion-spinner",11),e.k0s())}function O(r,t){if(1&r&&(e.j41(0,"ion-select-option",12),e.EFF(1),e.k0s()),2&r){const n=t.$implicit;e.Y8G("value",n.id),e.R7$(),e.SpI(" ",n.name," ")}}function I(r,t){1&r&&e.nrm(0,"ion-spinner",28)}function E(r,t){if(1&r){const n=e.RV6();e.j41(0,"ion-button",29),e.bIt("click",function(){e.eBV(n);const i=e.XpG().$implicit,a=e.XpG();return e.Njj(a.decreaseCount(i))}),e.nrm(1,"ion-icon",30),e.k0s()}if(2&r){const n=e.XpG().$implicit,o=e.XpG();e.Y8G("color",o.getButtonColor(n))}}function k(r,t){1&r&&(e.j41(0,"p",31),e.EFF(1," \xa1Stock m\xe1ximo! "),e.k0s())}function S(r,t){if(1&r){const n=e.RV6();e.j41(0,"ion-button",29),e.bIt("click",function(){e.eBV(n);const i=e.XpG().$implicit,a=e.XpG();return e.Njj(a.increaseCount(i))}),e.nrm(1,"ion-icon",32),e.k0s()}if(2&r){const n=e.XpG().$implicit,o=e.XpG();e.Y8G("color",o.getButtonColor(n))}}function w(r,t){if(1&r){const n=e.RV6();e.j41(0,"ion-button",33),e.bIt("click",function(){e.eBV(n);const i=e.XpG().$implicit,a=e.XpG();return e.Njj(a.confirmAction(i))}),e.EFF(1," OK "),e.k0s()}if(2&r){const n=e.XpG().$implicit,o=e.XpG();e.Y8G("color",o.getButtonColor(n))}}function T(r,t){if(1&r){const n=e.RV6();e.j41(0,"ion-item-options",34)(1,"ion-item-option",35),e.bIt("click",function(){e.eBV(n);const i=e.XpG().$implicit,a=e.XpG();return e.Njj(a.handleClick(i))}),e.EFF(2," Ver producto "),e.k0s()()}}function D(r,t){if(1&r){const n=e.RV6();e.j41(0,"ion-item-sliding",null,0)(2,"ion-item",13)(3,"div",14)(4,"ion-thumbnail",15),e.DNE(5,I,1,0,"ion-spinner",16),e.j41(6,"ion-img",17),e.bIt("ionImgDidLoad",function(){const i=e.eBV(n).$implicit,a=e.XpG();return e.Njj(a.setImageLoaded(i.product_id))})("ionError",function(i){const a=e.eBV(n).$implicit,c=e.XpG();return e.Njj(c.imageLoadError(i,a))}),e.k0s()(),e.j41(7,"ion-label")(8,"h2",18),e.EFF(9),e.k0s(),e.j41(10,"p"),e.EFF(11),e.k0s(),e.j41(12,"p"),e.EFF(13),e.k0s()()(),e.j41(14,"div",19)(15,"div",20),e.EFF(16),e.k0s(),e.j41(17,"div",21),e.DNE(18,E,2,1,"ion-button",22),e.j41(19,"div",23)(20,"span",24),e.EFF(21),e.k0s(),e.DNE(22,k,2,0,"p",25),e.k0s(),e.DNE(23,S,2,1,"ion-button",22),e.k0s(),e.DNE(24,w,2,1,"ion-button",26),e.k0s()(),e.DNE(25,T,3,0,"ion-item-options",27),e.k0s()}if(2&r){const n=t.$implicit,o=e.XpG();e.R7$(5),e.Y8G("ngIf",!o.imageLoaded[n.product_id]),e.R7$(),e.FS9("alt",null==n?null:n.product_name),e.Y8G("src",(null==n?null:n.image_url)||"assets/product_placeholder.png"),e.R7$(3),e.JRh(null==n?null:n.product_name),e.R7$(2),e.SpI("Proveedor: ",null==n?null:n.provider_name,""),e.R7$(2),e.SpI("Precio a Cr\xe9dito: $",null==n?null:n.credit_price,""),e.R7$(3),e.SpI(" ",o.getDynamicText(n)," "),e.R7$(2),e.Y8G("ngIf",o.isAdmin),e.R7$(3),e.JRh(null==n?null:n.current_count),e.R7$(),e.Y8G("ngIf",(null==n?null:n.current_count)===(null==n?null:n.max_amount)),e.R7$(),e.Y8G("ngIf",o.isAdmin),e.R7$(),e.Y8G("ngIf",o.isAdmin),e.R7$(),e.Y8G("ngIf",o.isAdmin&&n)}}function j(r,t){if(1&r){const n=e.RV6();e.j41(0,"ion-button",36),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.loadMoreProducts())}),e.EFF(1," Mostrar m\xe1s "),e.k0s()}}class h{constructor(t,n,o,i,a,c,g){this.inventoryService=t,this.router=n,this.authService=o,this.cdr=i,this.imageState=a,this.alertController=c,this.loadingController=g,this.products=[],this.filteredProducts=[],this.displayedProducts=[],this.searchTerm="",this.isAdmin=!1,this.selectedCategory="",this.selectedSubCategory="",this.selectedSort="recent",this.categories=[],this.subCategories=[],this.currentPage=1,this.itemsPerPage=5,this.loading=!1,this.imageLoaded={},this.lastClickTime=0,this.doubleClickDelay=300}ngOnInit(){console.log("Inicializando p\xe1gina de inventario..."),this.isAdmin=this.authService.isAdmin(),this.loading=!0,Promise.all([this.fetchProducts(),this.fetchCategories(),this.fetchSubCategories()]).finally(()=>{this.loading=!1}),h.refreshData.subscribe(()=>{this.loading=!0,Promise.all([this.fetchProducts(),this.fetchCategories(),this.fetchSubCategories()]).finally(()=>{this.loading=!1})})}setImageLoaded(t){console.log("Imagen cargada para producto ID:",t),this.imageLoaded[t]=!0,this.cdr.detectChanges()}handleClick(t){console.log("Click detectado, llamando a viewProduct dos veces..."),this.viewProduct(t),setTimeout(()=>{this.viewProduct(t)},100)}fetchProducts(){this.loading=!0,this.inventoryService.getProducts(this.searchTerm).subscribe(t=>{t&&t.success?(this.products=t.data.map(n=>this.normalizeProduct(n)),this.products.forEach(n=>this.initializeProducts(n)),this.assignValuesToProducts(),this.filteredProducts=this.products,this.applyFilters(),this.loadMoreProducts(),this.cdr.detectChanges(),this.loading=!1):(console.warn("Respuesta no v\xe1lida de la API:",t),this.loading=!1)},t=>{console.error("Error al obtener productos:",t),this.loading=!1})}assignValuesToProducts(){this.products.forEach(t=>{t.sub_category_id||(t.sub_category_id=null),t.category_id||(t.category_id=null)})}fetchCategories(){this.inventoryService.getCategories().subscribe(t=>{t.success&&(this.categories=t.data)},t=>{console.error("Error al obtener categor\xedas:",t)})}fetchSubCategories(){this.inventoryService.getSubCategories().subscribe(t=>{t.success&&(this.subCategories=t.data)},t=>{console.error("Error al obtener subcategor\xedas:",t)})}onSearchChange(t){console.log("T\xe9rmino de b\xfasqueda:",this.searchTerm);const n=this.normalizeText(this.searchTerm.toLowerCase());if(!n)return void this.applyFilters();const o=n.split(" ").filter(a=>a.length>0);this.filteredProducts=(this.selectedCategory||this.selectedSubCategory?this.filteredProducts:this.products).filter(a=>{const c=this.normalizeText(a.product_name.toLowerCase()),g=this.normalizeText(a.provider_name.toLowerCase()),F=a.product_id.toString();return o.every(C=>c.includes(C)||g.includes(C)||F.includes(C))}),console.log("Productos filtrados:",this.filteredProducts),this.currentPage=1,this.displayedProducts=[],this.loadMoreProducts(),this.cdr.detectChanges()}normalizeText(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}applyFilters(){let t=[...this.products];if(this.selectedCategory){const n=Number(this.selectedCategory);t=t.filter(o=>o&&o.category_id===n)}if(this.selectedSubCategory){const n=Number(this.selectedSubCategory);t=t.filter(o=>o&&(o.sub_category_id===n||!o.sub_category_id))}"recent"===this.selectedSort?t=t.sort((n,o)=>new Date(o.updated_at).getTime()-new Date(n.updated_at).getTime()):"alphabetical"===this.selectedSort&&(t=t.sort((n,o)=>n.product_name.localeCompare(o.product_name))),this.filteredProducts=t.map(n=>this.normalizeProduct(n)),this.currentPage=1,this.displayedProducts=[],this.loadMoreProducts(),this.cdr.detectChanges()}normalizeProduct(t){return this.imageLoaded[t.product_id]=!1,{image_url:t.image_url||"assets/product_placeholder.png",product_id:t.product_id||0,product_name:t.product_name||"Producto sin nombre",credit_price:t.credit_price||0,updated_at:t.updated_at||(new Date).toISOString(),category_id:t.category_id||null,current_count:t.current_count||0,current_stock:t.current_stock||0,max_amount:t.max_amount||0,prov_price:t.prov_price||"0.00",provider_name:t.provider_name||"Proveedor desconocido",sub_category_id:t.sub_category_id||null}}imageLoadError(t,n){console.error("Error cargando imagen para producto:",n.product_id,t),t.target.src="assets/product_placeholder.png",this.imageLoaded[n.product_id]=!0,this.cdr.detectChanges()}loadMoreProducts(){const t=(this.currentPage-1)*this.itemsPerPage,o=this.filteredProducts.slice(t,t+this.itemsPerPage);this.displayedProducts=this.displayedProducts.concat(o),this.currentPage++}showMoreProducts(){this.currentPage++,this.loadMoreProducts()}onCategoryChange(t){this.selectedCategory=t.detail.value,this.selectedSubCategory="",this.applyFilters()}onSubCategoryChange(t){this.selectedSubCategory=t.detail.value,this.applyFilters()}hasMoreProducts(){return this.displayedProducts.length<this.filteredProducts.length}viewProduct(t){console.log("M\xe9todo viewProduct ejecutado"),t&&t.product_id?(t.sub_category_id||(console.warn("El producto no tiene sub_category_id:",t),t.sub_category_id=null),console.log("Producto seleccionado:",t.product_id),console.log("Estado del producto:",t),this.router.navigate(["/producto",t.product_id])):console.error("El producto no est\xe1 completamente cargado o falta informaci\xf3n:",t)}increaseCount(t){var n=this;return(0,d.A)(function*(){t.current_count<t.max_amount?t.current_count+=1:yield n.presentAlert("L\xedmite alcanzado",`Has alcanzado el stock m\xe1ximo permitido: ${t.max_amount}`,"warning")})()}decreaseCount(t){var n=this;return(0,d.A)(function*(){t.current_count>0?t.current_count--:yield n.presentAlert("Acci\xf3n no permitida","No se puede disminuir, el contador ya est\xe1 en 0","warning")})()}presentAlert(t,n,o="warning"){var i=this;return(0,d.A)(function*(){yield(yield i.alertController.create({header:t,message:n,buttons:["OK"],cssClass:`custom-alert ${{success:"success",warning:"warning",error:"danger"}[o]}`,mode:"ios"})).present()})()}confirmAction(t){var n=this;return(0,d.A)(function*(){const o=t.current_count-t.current_stock;0!==o?yield(yield n.alertController.create({header:"Confirmar acci\xf3n",message:`\xbfEst\xe1s seguro de ${o>0?"aumentar":"reducir"} el stock en ${Math.abs(o)} unidades?`,buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Confirmar",handler:()=>n.executeInventoryUpdate(t,o)}]})).present():yield n.presentAlert("Sin cambios","No se detectaron cambios en el inventario","warning")})()}executeInventoryUpdate(t,n){var o=this;return(0,d.A)(function*(){const i=yield o.presentLoading("Actualizando inventario...");try{o.inventoryService.updateInventory(t.product_id,n).subscribe({next:(a=(0,d.A)(function*(c){yield i.dismiss(),c.success?(t.current_stock=c.new_stock,t.current_count=c.new_stock,yield o.presentAlert("\xa1\xc9xito!",`Inventario actualizado correctamente. Nuevo stock: ${c.new_stock}`,"success"),yield o.reloadDataPreservingFilters()):yield o.presentAlert("Error",`No se pudo actualizar el inventario: ${c.message}`,"error")}),function(g){return a.apply(this,arguments)}),error:function(){var a=(0,d.A)(function*(c){yield i.dismiss(),yield o.presentAlert("Error",`Ocurri\xf3 un error al actualizar: ${c.message||"Error desconocido"}`,"error")});return function(g){return a.apply(this,arguments)}}()})}catch{yield i.dismiss(),yield o.presentAlert("Error","Ocurri\xf3 un error inesperado","error")}var a})()}reloadDataPreservingFilters(){var t=this;return(0,d.A)(function*(){const n={searchTerm:t.searchTerm,selectedCategory:t.selectedCategory,selectedSubCategory:t.selectedSubCategory,selectedSort:t.selectedSort},o=yield t.presentLoading("Actualizando lista...");try{yield t.fetchProducts(),t.searchTerm=n.searchTerm,t.selectedCategory=n.selectedCategory,t.selectedSubCategory=n.selectedSubCategory,t.selectedSort=n.selectedSort,t.applyFilters()}catch(i){console.error("Error al recargar datos:",i)}finally{yield o.dismiss()}})()}presentLoading(t){var n=this;return(0,d.A)(function*(){const o=yield n.loadingController.create({message:t,spinner:"crescent",translucent:!0});return yield o.present(),o})()}getButtonColor(t){return t.current_count>t.current_stock?"success":t.current_count<t.current_stock?"danger":"medium"}getDynamicText(t){return t.current_count>t.current_stock?"Agregar a Stock":t.current_count<t.current_stock?"Venta":t.current_count===t.current_stock?"Stock Disponible":"None"}initializeProducts(t){typeof t.current_stock<"u"?t.current_count=t.current_stock:(console.warn("current_stock no est\xe1 definido para el producto:",t),t.current_count=0)}onDrag(t,n){if(console.log("Evento ionDrag detectado"),!n||!n.product_id||!n.sub_category_id)return console.warn("El producto no est\xe1 completamente cargado:",n),void t.close();t.getSlidingRatio().then(o=>{console.log("Proporci\xf3n del deslizamiento (ratio):",o),o>1&&(console.log("Deslizamiento completado, ejecutando viewProduct..."),setTimeout(()=>{this.viewProduct(n),t.close()},100))}).catch(o=>{console.error("Error al obtener la proporci\xf3n del deslizamiento:",o)})}ionViewDidEnter(){var t;const n=this.router.getCurrentNavigation();null!=n&&null!==(t=n.extras)&&void 0!==t&&null!==(t=t.state)&&void 0!==t&&t.timestamp&&(this.fetchProducts(),this.fetchCategories(),this.fetchSubCategories())}}(u=h).refreshData=new f.B,u.\u0275fac=function(t){return new(t||u)(e.rXU(m.c),e.rXU(P.Ix),e.rXU(_.u),e.rXU(e.gRc),e.rXU(x.S),e.rXU(s.hG),e.rXU(s.Xi))},u.\u0275cmp=e.VBU({type:u,selectors:[["app-inventario"]],decls:25,vars:7,consts:[["slidingItem",""],["class","loading-overlay",4,"ngIf"],["placeholder","Nombre o Proveedor",3,"ngModelChange","ionInput","ngModel"],[3,"ngModelChange","ionChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["value","recent"],["value","alphabetical"],[4,"ngFor","ngForOf"],["expand","full",3,"click",4,"ngIf"],[1,"loading-overlay"],["name","crescent",1,"loading-spinner"],[3,"value"],[1,"inventory-item"],[1,"left-info"],["slot","start",1,"image-container"],["name","crescent","class","image-spinner",4,"ngIf"],[3,"ionImgDidLoad","ionError","src","alt"],[1,"product-name"],[1,"counter-container"],[1,"dynamic-text"],[1,"counter-controls"],["fill","clear","size","small",3,"color","click",4,"ngIf"],[1,"counter-value-container"],[1,"counter-value"],["class","warning-text",4,"ngIf"],["expand","block","size","small","class","confirm-button",3,"color","click",4,"ngIf"],["side","end",4,"ngIf"],["name","crescent",1,"image-spinner"],["fill","clear","size","small",3,"click","color"],["name","remove-circle-outline"],[1,"warning-text"],["name","add-circle-outline"],["expand","block","size","small",1,"confirm-button",3,"click","color"],["side","end"],[3,"click"],["expand","full",3,"click"]],template:function(t,n){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"Inventario"),e.k0s()()(),e.j41(4,"ion-content"),e.DNE(5,M,2,0,"div",1),e.j41(6,"ion-list")(7,"ion-searchbar",2),e.mxI("ngModelChange",function(i){return e.DH7(n.searchTerm,i)||(n.searchTerm=i),i}),e.bIt("ionInput",function(i){return n.onSearchChange(i)}),e.k0s(),e.j41(8,"ion-item")(9,"ion-label"),e.EFF(10,"Subcategor\xeda"),e.k0s(),e.j41(11,"ion-select",3),e.mxI("ngModelChange",function(i){return e.DH7(n.selectedSubCategory,i)||(n.selectedSubCategory=i),i}),e.bIt("ionChange",function(){return n.applyFilters()}),e.j41(12,"ion-select-option",4),e.EFF(13,"Todas"),e.k0s(),e.DNE(14,O,2,2,"ion-select-option",5),e.k0s()(),e.j41(15,"ion-item")(16,"ion-label"),e.EFF(17,"Ordenar por"),e.k0s(),e.j41(18,"ion-select",3),e.mxI("ngModelChange",function(i){return e.DH7(n.selectedSort,i)||(n.selectedSort=i),i}),e.bIt("ionChange",function(){return n.applyFilters()}),e.j41(19,"ion-select-option",6),e.EFF(20,"Agregado reciente"),e.k0s(),e.j41(21,"ion-select-option",7),e.EFF(22,"Alfab\xe9tico"),e.k0s()()(),e.DNE(23,D,26,13,"ion-item-sliding",8)(24,j,2,0,"ion-button",9),e.k0s()()),2&t&&(e.R7$(5),e.Y8G("ngIf",n.loading),e.R7$(2),e.R50("ngModel",n.searchTerm),e.R7$(4),e.R50("ngModel",n.selectedSubCategory),e.R7$(3),e.Y8G("ngForOf",n.subCategories),e.R7$(4),e.R50("ngModel",n.selectedSort),e.R7$(5),e.Y8G("ngForOf",n.displayedProducts),e.R7$(),e.Y8G("ngIf",n.hasMoreProducts()))},dependencies:[v.Sq,v.bT,y.BC,y.vS,s.Jm,s.W9,s.eU,s.iq,s.KW,s.uz,s.LU,s.CE,s.A7,s.he,s.nf,s.S1,s.Nm,s.Ip,s.w2,s.Zx,s.BC,s.ai,s.Je,s.Gw],styles:['@charset "UTF-8";ion-list[_ngcontent-%COMP%]{margin:10px;border-radius:15px;overflow:hidden;background-color:#fff;box-shadow:0 2px 8px #0000001a}ion-item[_ngcontent-%COMP%]{--background: #fff;margin:5px 0;border-radius:10px;padding:0 10px;display:flex;align-items:center;transition:transform .2s ease,box-shadow .2s ease}ion-item[_ngcontent-%COMP%]:hover{transform:scale(1.02);box-shadow:0 4px 12px #00000026}ion-thumbnail[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:10px;overflow:hidden}ion-img[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:100%}ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#333;margin:0}ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666;margin:2px 0}.product-price[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#444;margin-left:auto;display:flex;align-items:center;justify-content:center}@media (min-width: 768px){.counter-container[_ngcontent-%COMP%]{padding:0 0 10px}ion-list[_ngcontent-%COMP%]{max-width:700px;margin:20px auto}ion-item[_ngcontent-%COMP%]{--background: #f9f9f9;padding:15px}ion-thumbnail[_ngcontent-%COMP%]{width:100px;height:100px}ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2rem}ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.product-price[_ngcontent-%COMP%]{font-size:1.1rem}}ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem;color:#666;margin:2px 0}ion-list.list-ios[_ngcontent-%COMP%]   ion-item.item[_ngcontent-%COMP%]   div.item-native[_ngcontent-%COMP%]{border-bottom:none}.counter-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-left:auto;flex-direction:column;justify-content:space-evenly;height:100%;padding:10px 0}.counter-container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0}.small-text[_ngcontent-%COMP%]{font-size:.8rem;color:var(--ion-color-medium);text-align:center}.confirm-button[_ngcontent-%COMP%]{transition:transform .2s}.confirm-button[_ngcontent-%COMP%]:active{transform:scale(1.1)}.current-stk[_ngcontent-%COMP%]{display:flex;height:100%;justify-content:space-evenly;align-items:center}.dynamic-text[_ngcontent-%COMP%]{width:150px;text-align:center;font-size:.9rem;font-weight:700;min-height:1.5rem}.container-stock[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.mid-two[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;height:100%}.inventory-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.counter-controls[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:10px}.counter-value-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;min-width:70px}.counter-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:var(--ion-color-medium)}.stock-label[_ngcontent-%COMP%]{font-size:.8rem;color:var(--ion-color-medium)}.dynamic-text[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700;color:var(--ion-color-primary)}.confirm-button[_ngcontent-%COMP%]{width:100%;max-width:80px;margin-top:5px;transition:transform .2s}.confirm-button[_ngcontent-%COMP%]:active{transform:scale(1.05)}.confirm-button[_ngcontent-%COMP%]::navitve{color:#fff}.left-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;align-items:center;justify-content:flex-start}ion-thumbnail[_ngcontent-%COMP%]{padding:7px;margin-right:20px}@media (max-width: 450px){.left-info[_ngcontent-%COMP%]{flex-direction:column;align-items:center}ion-label[_ngcontent-%COMP%]{text-align:center}ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem;text-align:center}ion-list[_ngcontent-%COMP%]{max-width:700px;margin:10px auto 0}}ion-item.inventory-item[_ngcontent-%COMP%]::part(native){padding-left:0}.warning-text[_ngcontent-%COMP%]{color:red;font-size:.6rem;text-align:center;margin-top:5px}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1000;display:flex;justify-content:center;align-items:center;width:100%;height:100%;background-color:#ffffffb3}.loading-spinner[_ngcontent-%COMP%]{width:64px;height:64px;color:var(--ion-color-primary)}.image-container[_ngcontent-%COMP%]{position:relative;width:100px;height:100px;overflow:hidden}.image-container[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;opacity:1;display:block;transition:opacity .3s ease}.image-container[_ngcontent-%COMP%]   .image-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:32px;height:32px;z-index:2}ion-img[_ngcontent-%COMP%]{opacity:0;transition:opacity .3s ease-in-out}ion-img.img-loaded[_ngcontent-%COMP%]{opacity:1}.custom-alert[_ngcontent-%COMP%]{--backdrop-opacity: .6}.custom-alert.success[_ngcontent-%COMP%]{--background: var(--ion-color-success);--color: white}.custom-alert.warning[_ngcontent-%COMP%]{--background: var(--ion-color-warning);--color: black}.custom-alert.danger[_ngcontent-%COMP%]{--background: var(--ion-color-danger);--color: white}.custom-alert[_ngcontent-%COMP%]   .alert-button-group[_ngcontent-%COMP%]{justify-content:center}.custom-alert[_ngcontent-%COMP%]   .alert-button[_ngcontent-%COMP%]{color:inherit;font-weight:700}']})},4191:(b,p,l)=>{l.d(p,{S:()=>f});var d=l(4438);let f=(()=>{var e;class m{constructor(){}getImageUrl(_){return null!=_&&_.image_url?`${_.image_url}?t=${Date.now()}`:"assets/product_placeholder.png"}}return(e=m).\u0275fac=function(_){return new(_||e)},e.\u0275prov=d.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),m})()}}]);