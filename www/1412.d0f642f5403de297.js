"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1412],{1412:(v,p,i)=>{i.r(p),i.d(p,{AgregarMarcaProductoPageModule:()=>C});var h=i(177),d=i(4341),s=i(7125),m=i(620),u=i(467),e=i(4438),f=i(4934);const M=[{path:"",component:(()=>{var t;class g{constructor(r,a,o,n){this.inventoryService=r,this.alertController=a,this.router=o,this.toastController=n,this.newBrand={name:"",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()},this.isSaving=!1}ngOnInit(){}saveBrand(){var r=this;return(0,u.A)(function*(){var a;null!==(a=r.newBrand.name)&&void 0!==a&&a.trim()?yield(yield r.alertController.create({header:"Confirmar",message:"\xbfEst\xe1s seguro de que deseas guardar esta marca?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Guardar",handler:()=>{var n;r.isSaving=!0,r.inventoryService.saveBrand(r.newBrand).subscribe({next:(n=(0,u.A)(function*(c){r.isSaving=!1,c.success?(yield r.showToast(`Marca: ${r.newBrand.name}! | Agregada con \xe9xito!`,"success"),yield r.showAlert("\xc9xito",c.message),r.router.navigate(["/marcas-productos"]).then(()=>{window.location.reload()})):yield r.showAlert("Error",c.message)}),function(A){return n.apply(this,arguments)}),error:function(){var n=(0,u.A)(function*(c){r.isSaving=!1,console.error("Error:",c),yield r.showAlert("Error",c.message||"Error al guardar la marca")});return function(A){return n.apply(this,arguments)}}()})}}]})).present():yield r.showAlert("Error","El nombre de la Marca no puede estar vac\xedo.")})()}showAlert(r,a){var o=this;return(0,u.A)(function*(){const n=yield o.alertController.create({header:r,message:a,buttons:["OK"]});yield n.present(),yield n.onDidDismiss()})()}showToast(r,a="danger"){var o=this;return(0,u.A)(function*(){yield(yield o.toastController.create({message:r,duration:3e3,color:a,position:"top",cssClass:"white-toast"})).present()})()}hasValue(r){return null!=r&&""!==r}}return(t=g).\u0275fac=function(r){return new(r||t)(e.rXU(f.c),e.rXU(s.hG),e.rXU(m.Ix),e.rXU(s.K_))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-agregar-marca-producto"]],decls:25,vars:9,consts:[["color","primary"],[1,"form-card"],[1,"custom-form",3,"submit"],[1,"form-group"],[1,"floating-label"],["name","name","required","",1,"native-input",3,"ngModelChange","ngModel"],["name","created_at","readonly","",1,"native-input",3,"ngModelChange","ngModel"],["name","updated_at","readonly","",1,"native-input",3,"ngModelChange","ngModel"],[1,"form-footer"],["type","submit",1,"native-button"],["name","checkmark-outline"]],template:function(r,a){1&r&&(e.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),e.EFF(3,"Agregar Marca de Producto"),e.k0s()()(),e.j41(4,"ion-content")(5,"div",1)(6,"h2"),e.EFF(7,"Introduce los detalles de la marca de producto"),e.k0s(),e.j41(8,"form",2),e.bIt("submit",function(){return a.saveBrand()}),e.j41(9,"div",3)(10,"label",4),e.EFF(11,"Nombre de la Marca"),e.k0s(),e.j41(12,"input",5),e.mxI("ngModelChange",function(n){return e.DH7(a.newBrand.name,n)||(a.newBrand.name=n),n}),e.k0s()(),e.j41(13,"div",3)(14,"label",4),e.EFF(15,"Fecha de Creaci\xf3n"),e.k0s(),e.j41(16,"input",6),e.mxI("ngModelChange",function(n){return e.DH7(a.newBrand.created_at,n)||(a.newBrand.created_at=n),n}),e.k0s()(),e.j41(17,"div",3)(18,"label",4),e.EFF(19,"\xdaltima Actualizaci\xf3n"),e.k0s(),e.j41(20,"input",7),e.mxI("ngModelChange",function(n){return e.DH7(a.newBrand.updated_at,n)||(a.newBrand.updated_at=n),n}),e.k0s()(),e.j41(21,"div",8)(22,"button",9),e.nrm(23,"ion-icon",10),e.EFF(24," Guardar Marca "),e.k0s()()()()()),2&r&&(e.R7$(10),e.AVh("shrink",a.hasValue(a.newBrand.name)),e.R7$(2),e.R50("ngModel",a.newBrand.name),e.R7$(2),e.AVh("shrink",a.hasValue(a.newBrand.created_at)),e.R7$(2),e.R50("ngModel",a.newBrand.created_at),e.R7$(2),e.AVh("shrink",a.hasValue(a.newBrand.updated_at)),e.R7$(2),e.R50("ngModel",a.newBrand.updated_at))},dependencies:[d.qT,d.me,d.BC,d.cb,d.YS,d.vS,d.cV,s.W9,s.eU,s.iq,s.BC,s.ai],styles:['@charset "UTF-8";.form-card[_ngcontent-%COMP%]{max-width:600px;margin:40px auto;padding:25px;border-radius:10px;background-color:#fff;box-shadow:0 4px 6px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;font-size:1.6rem;color:#333;margin-bottom:30px;font-weight:700}.form-item[_ngcontent-%COMP%]{margin-bottom:20px;padding-right:15px}ion-label[_ngcontent-%COMP%]{font-weight:700;color:#666;margin-bottom:5px}ion-input[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%]{--padding-start: 12px;border:1px solid #ddd;border-radius:3px;--background: #f9f9f9}ion-select[_ngcontent-%COMP%]{--placeholder-color: #999;margin-top:5px}ion-item[_ngcontent-%COMP%]{--inner-padding-end: 0;--inner-padding-start: 0}.footer[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{border-radius:8px;font-size:1rem;font-weight:700}.title-item[_ngcontent-%COMP%]{margin-bottom:15px}.footer[_ngcontent-%COMP%]{padding:10px;display:flex;justify-content:center}.edit-footer[_ngcontent-%COMP%]{box-shadow:none;margin-top:20px}@media (max-width: 768px){.form-card[_ngcontent-%COMP%]{margin:0 auto}}']}),g})()}];let P=(()=>{var t;class g{}return(t=g).\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[m.iI.forChild(M),m.iI]}),g})(),C=(()=>{var t;class g{}return(t=g).\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[h.MD,d.YN,s.bv,P]}),g})()}}]);