"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3680],{3680:(P,u,r)=>{r.r(u),r.d(u,{HistorialClientePageModule:()=>M});var g=r(177),d=r(4341),l=r(4742),c=r(1671),e=r(4438),p=r(1626);const C=(t,i,n)=>({success:t,warning:i,danger:n});function m(t,i){if(1&t&&(e.j41(0,"ion-row",7)(1,"ion-col",2),e.EFF(2),e.k0s(),e.j41(3,"ion-col",2),e.EFF(4),e.k0s(),e.j41(5,"ion-col",2),e.EFF(6),e.k0s(),e.j41(7,"ion-col",3)(8,"span",8),e.EFF(9),e.k0s()(),e.j41(10,"ion-col",2),e.EFF(11),e.k0s(),e.j41(12,"ion-col",3),e.EFF(13),e.k0s()()),2&t){const n=i.$implicit,o=e.XpG();e.R7$(),e.Y8G("ngClass",o.isMobile?"size-4":"size-2"),e.R7$(),e.JRh(n.name),e.R7$(),e.Y8G("ngClass",o.isMobile?"size-4":"size-3"),e.R7$(),e.JRh(n.address),e.R7$(),e.Y8G("ngClass","size-2"),e.R7$(),e.JRh(n.phone),e.R7$(2),e.Y8G("ngClass",e.sMw(11,C,1===n.type,2===n.type,0===n.type)),e.R7$(),e.SpI(" ",1===n.type?"Bueno":2===n.type?"Regular":"Malo"," "),e.R7$(),e.Y8G("ngClass",o.isMobile?"size-2":"size-1"),e.R7$(),e.JRh(n.change_timestamp),e.R7$(2),e.JRh(n.change_reason)}}const h=[{path:"",component:(()=>{var t;class i{constructor(o,s,a){this.route=o,this.http=s,this.router=a,this.customerHistory=[],this.isMobile=window.innerWidth<577}onResize(o){this.isMobile=o.target.innerWidth<577}ngOnInit(){this.customerId=Number(this.route.snapshot.paramMap.get("id")),this.loadCustomerHistory(this.customerId)}loadCustomerHistory(o){const s=`https://muebleriasolaris.com/ionic-users/customer-changes.php?id=${o}`;console.log("Historial del cliente con id:",o),this.http.get(s).subscribe({next:a=>{a.success?(this.customerHistory=a.data,console.log("Historial del cliente cargado correctamente:",this.customerHistory)):console.warn("No se pudo cargar el historial del cliente.")},error:a=>{console.error("Error al cargar el historial del cliente:",a)}})}goBack(){this.router.navigate([`/cliente-info/${this.customerId}`])}}return(t=i).\u0275fac=function(o){return new(o||t)(e.rXU(c.nX),e.rXU(p.Qq),e.rXU(c.Ix))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-historial-cliente"]],hostBindings:function(o,s){1&o&&e.bIt("resize",function(b){return s.onResize(b)},!1,e.tSv)},decls:27,vars:5,consts:[[1,"customer-history-table"],[1,"header-row"],[3,"ngClass"],["size","2",1,"desktop-only"],["class","data-row",4,"ngFor","ngForOf"],[1,"backbutton",3,"click"],["slot","icon-only","name","arrow-back-outline"],[1,"data-row"],[1,"type-label",3,"ngClass"]],template:function(o,s){1&o&&(e.j41(0,"ion-content")(1,"ion-grid",0)(2,"ion-row",1)(3,"ion-col",2)(4,"strong"),e.EFF(5,"Nombre"),e.k0s()(),e.j41(6,"ion-col",2)(7,"strong"),e.EFF(8,"Direcci\xf3n"),e.k0s()(),e.j41(9,"ion-col",2)(10,"strong"),e.EFF(11,"Tel\xe9fono"),e.k0s()(),e.j41(12,"ion-col",3)(13,"strong"),e.EFF(14,"Tipo"),e.k0s()(),e.j41(15,"ion-col",2)(16,"strong"),e.EFF(17,"Fecha Mov"),e.k0s()(),e.j41(18,"ion-col",3)(19,"strong"),e.EFF(20,"Raz\xf3n"),e.k0s()()(),e.DNE(21,m,14,15,"ion-row",4),e.k0s(),e.j41(22,"ion-grid")(23,"ion-row")(24,"ion-button",5),e.bIt("click",function(){return s.goBack()}),e.nrm(25,"ion-icon",6),e.EFF(26," Regresar "),e.k0s()()()()),2&o&&(e.R7$(3),e.Y8G("ngClass",s.isMobile?"size-4":"size-2"),e.R7$(3),e.Y8G("ngClass",s.isMobile?"size-4":"size-3"),e.R7$(3),e.Y8G("ngClass","size-2"),e.R7$(6),e.Y8G("ngClass",s.isMobile?"size-2":"size-1"),e.R7$(6),e.Y8G("ngForOf",s.customerHistory))},dependencies:[g.YU,g.Sq,l.Jm,l.hU,l.W9,l.lO,l.iq,l.ln],styles:['@charset "UTF-8";.customer-history-table[_ngcontent-%COMP%]{width:100%;margin:70px auto 0;text-align:center;border-collapse:collapse}.header-row[_ngcontent-%COMP%]{background-color:#1e88e5;color:#fff;font-weight:700;text-align:center;border-bottom:2px solid #ccc}.data-row[_ngcontent-%COMP%]{background-color:#f9f9f9;border-bottom:1px solid #e0e0e0;padding:10px 0}.customer-type[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.type-label[_ngcontent-%COMP%]{padding:5px 10px;border-radius:12px;font-weight:700;color:#fff}.type-label.success[_ngcontent-%COMP%]{background-color:#4caf50}.type-label.danger[_ngcontent-%COMP%]{background-color:#f44336}.type-label.warning[_ngcontent-%COMP%]{background-color:#1e3a8a}.pagination-controls[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.pagination-controls[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:5px}ion-button.ios[_ngcontent-%COMP%]::part(native){padding:10px;font-size:1rem}@media (max-width: 576px){.header-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{font-size:.8rem}.data-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{font-size:.6rem}.customer-type[_ngcontent-%COMP%]{justify-content:center}.customer-history-table[_ngcontent-%COMP%]{margin:75px 0 0;padding:0}.desktop-only[_ngcontent-%COMP%]{display:none}ion-button.ios[_ngcontent-%COMP%]::part(native){padding:10px;font-size:.9rem}.backbutton[_ngcontent-%COMP%]{font-size:.6rem}.backbutton[_ngcontent-%COMP%]::part(native){padding:5px}}']}),i})()}];let f=(()=>{var t;class i{}return(t=i).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[c.iI.forChild(h),c.iI]}),i})(),M=(()=>{var t;class i{}return(t=i).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[g.MD,d.YN,l.bv,f]}),i})()}}]);