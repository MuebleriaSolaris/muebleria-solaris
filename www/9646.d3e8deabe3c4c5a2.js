"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9646],{9646:(F,p,a)=>{a.r(p),a.d(p,{ListaPedidoPageModule:()=>O});var s=a(177),g=a(4341),r=a(7125),l=a(5520),t=a(4438),P=a(4934),u=a(3656);function _(n,d){if(1&n){const e=t.RV6();t.j41(0,"div",5)(1,"p")(2,"strong"),t.EFF(3,"Costo total:"),t.k0s(),t.EFF(4),t.k0s(),t.j41(5,"ion-button",6),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.goBack())}),t.EFF(6,"Regresar"),t.k0s()()}if(2&n){const e=t.XpG();t.R7$(4),t.SpI(" $",e.totalCost,"")}}function f(n,d){if(1&n&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s()()),2&n){const e=d.$implicit;t.R7$(2),t.JRh(e.product_name),t.R7$(2),t.JRh(e.current_stock),t.R7$(2),t.JRh(e.max_amount-e.current_stock)}}function C(n,d){if(1&n){const e=t.RV6();t.j41(0,"div",7)(1,"table")(2,"thead")(3,"tr")(4,"th"),t.EFF(5,"Producto"),t.k0s(),t.j41(6,"th"),t.EFF(7,"En Existencia"),t.k0s(),t.j41(8,"th"),t.EFF(9,"Faltantes"),t.k0s()()(),t.j41(10,"tbody"),t.DNE(11,f,7,3,"tr",8),t.k0s()(),t.j41(12,"div",9)(13,"ion-button",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.goBack())}),t.EFF(14,"Regresar"),t.k0s()()()}if(2&n){const e=t.XpG();t.R7$(11),t.Y8G("ngForOf",e.providerProducts)}}function v(n,d){if(1&n&&(t.j41(0,"div",13)(1,"h3"),t.EFF(2),t.k0s(),t.j41(3,"p")(4,"strong"),t.EFF(5,"En existencia:"),t.k0s(),t.EFF(6),t.k0s(),t.j41(7,"p")(8,"strong"),t.EFF(9,"Faltantes:"),t.k0s(),t.EFF(10),t.k0s()()),2&n){const e=d.$implicit;t.R7$(2),t.JRh(e.product_name),t.R7$(4),t.SpI(" ",e.current_stock,""),t.R7$(4),t.SpI(" ",e.max_amount-e.current_stock,"")}}function M(n,d){if(1&n&&(t.j41(0,"div",11),t.DNE(1,v,11,3,"div",12),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",e.providerProducts)}}const m=[{path:"",component:(()=>{var n;class d{constructor(i,o,c){this.route=i,this.inventoryService=o,this.navCtrl=c,this.providerId=null,this.providerName="",this.providerProducts=[],this.totalCost=0,this.isLargeScreen=window.innerWidth>425}ngOnInit(){this.providerId=Number(this.route.snapshot.paramMap.get("id")),this.providerId&&this.loadProviderProducts(this.providerId)}onResize(i){this.isLargeScreen=i.target.innerWidth>425}loadProviderProducts(i){this.inventoryService.getProductsByProvider(i).subscribe({next:o=>{var c;o.success?(this.providerProducts=o.data,this.providerProducts.length>0&&(this.providerName=(null===(c=this.providerProducts[0])||void 0===c?void 0:c.provider_name)||""),console.log("Productos cargados:",this.providerProducts),console.log("Proveedor:",this.providerName),this.calculateTotalCost()):console.warn("No se pudieron cargar los productos del proveedor.")},error:o=>{console.error("Error al cargar productos del proveedor:",o)}})}calculateTotalCost(){this.totalCost=this.providerProducts.reduce((i,o)=>i+(o.max_amount-o.current_stock)*o.credit_price,0)}goBack(){this.navCtrl.back()}}return(n=d).\u0275fac=function(i){return new(i||n)(t.rXU(l.nX),t.rXU(P.c),t.rXU(u.q9))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-lista-pedido"]],hostBindings:function(i,o){1&i&&t.bIt("resize",function(x){return o.onResize(x)},!1,t.tSv)},decls:13,vars:4,consts:[["slot","start"],[1,"pedido-container"],["class","mobile-total",4,"ngIf"],["class","pedido-table",4,"ngIf"],["class","pedido-list",4,"ngIf"],[1,"mobile-total"],["expand","full",3,"click"],[1,"pedido-table"],[4,"ngFor","ngForOf"],[1,"table-total"],[3,"click"],[1,"pedido-list"],["class","pedido-card",4,"ngFor","ngForOf"],[1,"pedido-card"]],template:function(i,o){1&i&&(t.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),t.nrm(3,"ion-back-button"),t.k0s(),t.j41(4,"ion-title"),t.EFF(5,"Lista de Pedido"),t.k0s()()(),t.j41(6,"ion-content")(7,"div",1)(8,"h2"),t.EFF(9),t.k0s(),t.DNE(10,_,7,1,"div",2)(11,C,15,1,"div",3)(12,M,2,1,"div",4),t.k0s()()),2&i&&(t.R7$(9),t.SpI("Pedido para el proveedor: ",o.providerName,""),t.R7$(),t.Y8G("ngIf",!o.isLargeScreen),t.R7$(),t.Y8G("ngIf",o.isLargeScreen),t.R7$(),t.Y8G("ngIf",!o.isLargeScreen))},dependencies:[s.Sq,s.bT,r.Jm,r.QW,r.W9,r.eU,r.BC,r.ai,r.el],styles:['@charset "UTF-8";.pedido-container[_ngcontent-%COMP%]{padding:16px}.pedido-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:18px;margin-bottom:16px}.pedido-container[_ngcontent-%COMP%]   .mobile-total[_ngcontent-%COMP%]{text-align:center;font-size:16px;font-weight:700;color:#333;margin-bottom:16px}.pedido-container[_ngcontent-%COMP%]   .mobile-total[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:16px}.pedido-container[_ngcontent-%COMP%]   .table-total[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-direction:row-reverse;align-items:center;margin-top:16px;font-size:16px;font-weight:700;color:#333}.pedido-container[_ngcontent-%COMP%]   .table-total[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-left:16px}.pedido-container[_ngcontent-%COMP%]   .pedido-table[_ngcontent-%COMP%], .pedido-container[_ngcontent-%COMP%]   .pedido-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.pedido-container[_ngcontent-%COMP%]   .pedido-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .pedido-container[_ngcontent-%COMP%]   .pedido-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #ddd;text-align:center}.pedido-container[_ngcontent-%COMP%]   .pedido-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.pedido-container[_ngcontent-%COMP%]   .pedido-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:14px;color:#333}.pedido-container[_ngcontent-%COMP%]   .pedido-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.pedido-container[_ngcontent-%COMP%]   .pedido-list[_ngcontent-%COMP%]   .pedido-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 2px 5px #0000001a;padding:16px;font-size:14px}.pedido-container[_ngcontent-%COMP%]   .pedido-list[_ngcontent-%COMP%]   .pedido-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:16px;font-weight:700;color:#333}.pedido-container[_ngcontent-%COMP%]   .pedido-list[_ngcontent-%COMP%]   .pedido-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0;font-size:14px;line-height:1.4}.pedido-container[_ngcontent-%COMP%]   .pedido-list[_ngcontent-%COMP%]   .pedido-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:700;color:#555}@media (min-width: 426px){.mobile-total[_ngcontent-%COMP%], .pedido-list[_ngcontent-%COMP%]{display:none}.pedido-table[_ngcontent-%COMP%]{display:block}}@media (max-width: 425px){.pedido-table[_ngcontent-%COMP%]{display:none}.pedido-list[_ngcontent-%COMP%]{display:flex}}']}),d})()}];let h=(()=>{var n;class d{}return(n=d).\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({imports:[l.iI.forChild(m),l.iI]}),d})(),O=(()=>{var n;class d{}return(n=d).\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({imports:[s.MD,g.YN,r.bv,h]}),d})()}}]);