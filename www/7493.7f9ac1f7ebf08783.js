"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7493],{7493:(O,m,g)=>{g.r(m),g.d(m,{AgregarInventarioPageModule:()=>I});var h=g(177),c=g(4341),a=g(4742),_=g(1671),u=g(467),e=g(4438),v=g(4934),P=g(3656);function f(t,l){if(1&t&&(e.j41(0,"ion-select-option",19),e.EFF(1),e.k0s()),2&t){const i=l.$implicit;e.Y8G("value",i.id),e.R7$(),e.JRh(i.name)}}function b(t,l){if(1&t&&(e.j41(0,"ion-select-option",19),e.EFF(1),e.k0s()),2&t){const i=l.$implicit;e.Y8G("value",i.id),e.R7$(),e.JRh(i.name)}}function C(t,l){if(1&t&&(e.j41(0,"ion-select-option",19),e.EFF(1),e.k0s()),2&t){const i=l.$implicit;e.Y8G("value",i.id),e.R7$(),e.JRh(i.name)}}function M(t,l){if(1&t&&(e.j41(0,"ion-select-option",19),e.EFF(1),e.k0s()),2&t){const i=l.$implicit;e.Y8G("value",i.id),e.R7$(),e.JRh(i.name)}}const y=[{path:"",component:(()=>{var t;class l{constructor(o,r,d,n){this.inventoryService=o,this.navCtrl=r,this.alertController=d,this.router=n,this.newProduct={name:"",category_id:null,sub_category_id:null,product_details:"",novedad_act:0,credit_price:null,brand_id:null,proveedor_id:null},this.categories=[],this.subCategories=[],this.brands=[],this.providers=[]}ngOnInit(){this.loadCategories(),this.loadBrands(),this.loadSubCategories(),this.loadprovider()}showAlert(o,r){var d=this;return(0,u.A)(function*(){yield(yield d.alertController.create({header:o,message:r,buttons:["OK"]})).present()})()}loadCategories(){var o=this;this.inventoryService.getCategories().subscribe(r=>{r.success&&(this.categories=r.data)},function(){var r=(0,u.A)(function*(d){console.error("Error al cargar categor\xedas:",d),yield o.showAlert("Error","No se pudieron cargar las categor\xedas")});return function(d){return r.apply(this,arguments)}}())}loadSubCategories(){this.inventoryService.getSubCategories().subscribe(o=>{o.success&&(this.subCategories=o.data)},o=>{console.error("Error al cargar categor\xedas:",o)})}loadBrands(){this.inventoryService.getBrands().subscribe(o=>{o.success&&(this.brands=o.data)},o=>{console.error("Error al cargar marcas:",o)})}loadprovider(){this.inventoryService.getProviders().subscribe(o=>{o.success&&(this.providers=o.data)},o=>{console.error("Error al cargar proveedores:",o)})}resetForm(){this.newProduct={name:"",category_id:null,sub_category_id:null,product_details:"",novedad_act:0,credit_price:null,brand_id:null,proveedor_id:null}}toggleNovedad(o){this.newProduct.novedad_act=o.detail.checked?1:0}saveProduct(){var o=this;return(0,u.A)(function*(){const{name:r,category_id:d,sub_category_id:n,brand_id:A,credit_price:F,proveedor_id:E,product_details:R}=o.newProduct;if(!(r&&d&&n&&A&&F&&E&&R))return void(yield o.showAlert("Campos incompletos","Por favor, llena todos los campos antes de guardar el producto."));const j={name:o.newProduct.name,category_id:o.newProduct.category_id,sub_category_id:o.newProduct.sub_category_id,brand_id:o.newProduct.brand_id,credit_price:o.newProduct.credit_price,proveedor_id:o.newProduct.proveedor_id,product_details:o.newProduct.product_details,novedad_act:o.newProduct.novedad_act?1:0};yield(yield o.alertController.create({header:"Confirmar",message:"\xbfEst\xe1s seguro de que deseas guardar este producto?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Guardar",handler:()=>{var p;o.inventoryService.addInventory(j).subscribe({next:(p=(0,u.A)(function*(s){s.success?(yield o.showAlert("\xc9xito","Producto agregado correctamente"),o.router.navigate(["/inventario"])):yield o.showAlert("Error",s.message||"Error desconocido")}),function(k){return p.apply(this,arguments)}),error:function(){var p=(0,u.A)(function*(s){console.error("Error:",s),yield o.showAlert("Error","Error en el servidor")});return function(k){return p.apply(this,arguments)}}(),complete:()=>{console.log("Operaci\xf3n completada")}})}}]})).present()})()}}return(t=l).\u0275fac=function(o){return new(o||t)(e.rXU(v.c),e.rXU(P.q9),e.rXU(a.hG),e.rXU(_.Ix))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-agregar-inventario"]],decls:50,vars:12,consts:[["color","primary"],[1,"form-card"],[3,"submit"],["lines","none"],[1,"form-item"],["position","stacked",1,"title-item"],["name","name","required","",3,"ngModelChange","ngModel"],["name","category_id","placeholder","Seleccione una","required","",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["name","sub_category_id","placeholder","Seleccione una","required","",3,"ngModelChange","ngModel"],["name","proveedor_id","placeholder","Seleccione un proveedor","required","",3,"ngModelChange","ngModel"],["name","product_details",3,"ngModelChange","ngModel"],[1,"title-item"],["name","novedad_act",3,"ngModelChange","ionChange","ngModel"],["name","credit_price","type","number","required","",3,"ngModelChange","ngModel"],["name","brand_id","placeholder","Seleccione una","required","",3,"ngModelChange","ngModel"],[1,"footer","edit-footer"],["expand","block","color","primary","type","submit"],["slot","start","name","checkmark-outline"],[3,"value"]],template:function(o,r){1&o&&(e.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),e.EFF(3,"Agregar Inventario"),e.k0s()()(),e.j41(4,"ion-content")(5,"div",1)(6,"h2"),e.EFF(7,"Introduce los detalles del producto"),e.k0s(),e.j41(8,"form",2),e.bIt("submit",function(){return r.saveProduct()}),e.j41(9,"ion-list",3)(10,"ion-item",4)(11,"ion-label",5),e.EFF(12,"Nombre del Producto"),e.k0s(),e.j41(13,"ion-input",6),e.mxI("ngModelChange",function(n){return e.DH7(r.newProduct.name,n)||(r.newProduct.name=n),n}),e.k0s()(),e.j41(14,"ion-item",4)(15,"ion-label",5),e.EFF(16,"Categor\xeda"),e.k0s(),e.j41(17,"ion-select",7),e.mxI("ngModelChange",function(n){return e.DH7(r.newProduct.category_id,n)||(r.newProduct.category_id=n),n}),e.DNE(18,f,2,2,"ion-select-option",8),e.k0s()(),e.j41(19,"ion-item",4)(20,"ion-label",5),e.EFF(21,"Subcategor\xeda"),e.k0s(),e.j41(22,"ion-select",9),e.mxI("ngModelChange",function(n){return e.DH7(r.newProduct.sub_category_id,n)||(r.newProduct.sub_category_id=n),n}),e.DNE(23,b,2,2,"ion-select-option",8),e.k0s()(),e.j41(24,"ion-item",4)(25,"ion-label",5),e.EFF(26,"Proveedor"),e.k0s(),e.j41(27,"ion-select",10),e.mxI("ngModelChange",function(n){return e.DH7(r.newProduct.proveedor_id,n)||(r.newProduct.proveedor_id=n),n}),e.DNE(28,C,2,2,"ion-select-option",8),e.k0s()(),e.j41(29,"ion-item",4)(30,"ion-label",5),e.EFF(31,"Detalles del Producto"),e.k0s(),e.j41(32,"ion-textarea",11),e.mxI("ngModelChange",function(n){return e.DH7(r.newProduct.product_details,n)||(r.newProduct.product_details=n),n}),e.k0s()(),e.j41(33,"ion-item",4)(34,"ion-label",12),e.EFF(35,"Novedad"),e.k0s(),e.j41(36,"ion-toggle",13),e.mxI("ngModelChange",function(n){return e.DH7(r.newProduct.novedad_act,n)||(r.newProduct.novedad_act=n),n}),e.bIt("ionChange",function(n){return r.toggleNovedad(n)}),e.k0s()(),e.j41(37,"ion-item",4)(38,"ion-label",5),e.EFF(39,"Precio de Cr\xe9dito"),e.k0s(),e.j41(40,"ion-input",14),e.mxI("ngModelChange",function(n){return e.DH7(r.newProduct.credit_price,n)||(r.newProduct.credit_price=n),n}),e.k0s()(),e.j41(41,"ion-item",4)(42,"ion-label",5),e.EFF(43,"Marca"),e.k0s(),e.j41(44,"ion-select",15),e.mxI("ngModelChange",function(n){return e.DH7(r.newProduct.brand_id,n)||(r.newProduct.brand_id=n),n}),e.DNE(45,M,2,2,"ion-select-option",8),e.k0s()()(),e.j41(46,"ion-footer",16)(47,"ion-button",17),e.nrm(48,"ion-icon",18),e.EFF(49," Guardar Producto "),e.k0s()()()()()),2&o&&(e.R7$(13),e.R50("ngModel",r.newProduct.name),e.R7$(4),e.R50("ngModel",r.newProduct.category_id),e.R7$(),e.Y8G("ngForOf",r.categories),e.R7$(4),e.R50("ngModel",r.newProduct.sub_category_id),e.R7$(),e.Y8G("ngForOf",r.subCategories),e.R7$(4),e.R50("ngModel",r.newProduct.proveedor_id),e.R7$(),e.Y8G("ngForOf",r.providers),e.R7$(4),e.R50("ngModel",r.newProduct.product_details),e.R7$(4),e.R50("ngModel",r.newProduct.novedad_act),e.R7$(4),e.R50("ngModel",r.newProduct.credit_price),e.R7$(4),e.R50("ngModel",r.newProduct.brand_id),e.R7$(),e.Y8G("ngForOf",r.brands))},dependencies:[h.Sq,c.qT,c.BC,c.cb,c.YS,c.vS,c.cV,a.Jm,a.W9,a.M0,a.eU,a.iq,a.$w,a.uz,a.he,a.nf,a.Nm,a.Ip,a.nc,a.BC,a.BY,a.ai,a.hB,a.su,a.Je,a.Gw],styles:['@charset "UTF-8";.form-card[_ngcontent-%COMP%]{max-width:600px;margin:40px auto;padding:25px;border-radius:10px;background-color:#fff;box-shadow:0 4px 6px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;font-size:1.6rem;color:#333;margin-bottom:30px;font-weight:700}.form-item[_ngcontent-%COMP%]{margin-bottom:20px;padding-right:15px}ion-label[_ngcontent-%COMP%]{font-weight:700;color:#666;margin-bottom:5px}ion-input[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%]{--padding-start: 12px;border:1px solid #ddd;border-radius:3px;--background: #f9f9f9}ion-select[_ngcontent-%COMP%]{--placeholder-color: #999;margin-top:5px}ion-item[_ngcontent-%COMP%]{--inner-padding-end: 0;--inner-padding-start: 0}.footer[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{border-radius:8px;font-size:1rem;font-weight:700}.title-item[_ngcontent-%COMP%]{margin-bottom:15px}.footer[_ngcontent-%COMP%]{padding:10px;display:flex;justify-content:center}.edit-footer[_ngcontent-%COMP%]{box-shadow:none;margin-top:20px}@media (max-width: 768px){.form-card[_ngcontent-%COMP%]{margin:0 auto}}']}),l})()}];let w=(()=>{var t;class l{}return(t=l).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[_.iI.forChild(y),_.iI]}),l})(),I=(()=>{var t;class l{}return(t=l).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[h.MD,c.YN,a.bv,w]}),l})()}}]);