"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1796],{1796:(_,u,s)=>{s.r(u),s.d(u,{CategoriasPageModule:()=>y});var g=s(177),d=s(4341),a=s(7125),l=s(5520),m=s(467),e=s(4438),b=s(4934);function p(o,i){if(1&o){const r=e.RV6();e.j41(0,"ion-item-sliding")(1,"ion-item",7)(2,"ion-thumbnail",8),e.nrm(3,"img",9),e.k0s(),e.j41(4,"ion-label")(5,"p"),e.EFF(6,"Subcategor\xeda"),e.k0s(),e.j41(7,"h2",10),e.EFF(8),e.k0s(),e.j41(9,"p",11),e.EFF(10),e.k0s()()(),e.j41(11,"ion-item-options",12)(12,"ion-item-option",13),e.bIt("click",function(){const n=e.eBV(r).$implicit,c=e.XpG();return e.Njj(c.viewSubcategoryDetails(n.id))}),e.EFF(13," Ver Detalles "),e.k0s(),e.j41(14,"ion-item-option",14),e.bIt("click",function(){const n=e.eBV(r).$implicit,c=e.XpG();return e.Njj(c.confirmDelete(n))}),e.EFF(15," Eliminar "),e.k0s()()()}if(2&o){const r=i.$implicit,t=e.XpG();e.R7$(3),e.FS9("alt",r.name),e.R7$(5),e.JRh(r.name),e.R7$(2),e.SpI("Creada: ",t.formatDate(r.created_at),"")}}function h(o,i){if(1&o){const r=e.RV6();e.j41(0,"div",15),e.nrm(1,"ion-icon",16),e.j41(2,"p"),e.EFF(3,"No hay subcategor\xedas registradas"),e.k0s(),e.j41(4,"ion-button",17),e.bIt("click",function(){e.eBV(r);const n=e.XpG();return e.Njj(n.goToAddSubcategory())}),e.EFF(5," Agregar Subcategor\xeda "),e.k0s()()}}const f=[{path:"",component:(()=>{var o;class i{constructor(t,n,c){this.inventoryService=t,this.router=n,this.alertController=c,this.subcategories=[]}ngOnInit(){this.loadSubcategories()}loadSubcategories(){this.inventoryService.getSubs().subscribe({next:t=>{t.success?this.subcategories=t.data:console.warn("No se pudieron cargar las subcategor\xedas:",t.message)},error:t=>{console.error("Error al cargar subcategor\xedas:",t)}})}formatDate(t){return new Date(t).toLocaleDateString("es-MX",{year:"numeric",month:"short",day:"numeric"})}viewSubcategoryDetails(t){this.router.navigate(["/sub-categorias-info",t])}goToAddSubcategory(){this.router.navigate(["/agregar-subcategoria"])}confirmDelete(t){var n=this;return(0,m.A)(function*(){yield(yield n.alertController.create({header:"Confirmar",message:`\xbfEliminar la subcategor\xeda "${t.name}"?`,buttons:[{text:"Cancelar",role:"cancel"},{text:"Eliminar",handler:()=>{n.deleteSubcategory(t.id)}}]})).present()})()}deleteSubcategory(t){this.inventoryService.deleteSubcategory(t).subscribe({next:n=>{n.success?this.loadSubcategories():console.warn("No se pudo eliminar la subcategor\xeda:",n.message)},error:n=>{console.error("Error al eliminar subcategor\xeda:",n)}})}}return(o=i).\u0275fac=function(t){return new(t||o)(e.rXU(b.c),e.rXU(l.Ix),e.rXU(a.hG))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-categorias"]],decls:11,vars:2,consts:[["color","primary"],["slot","end"],[3,"click"],["slot","icon-only","name","add-outline"],[1,"subcategory-list"],[4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"subcategory-card"],["slot","start"],["src","assets/sub_categories.png",3,"alt"],[1,"subcategory-name"],[1,"subcategory-date"],["side","end"],["color","primary",3,"click"],["color","danger",3,"click"],[1,"empty-state"],["name","folder-open-outline"],["fill","outline",3,"click"]],template:function(t,n){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),e.EFF(3,"Subcategor\xedas"),e.k0s(),e.j41(4,"ion-buttons",1)(5,"ion-button",2),e.bIt("click",function(){return n.goToAddSubcategory()}),e.nrm(6,"ion-icon",3),e.k0s()()()(),e.j41(7,"ion-content")(8,"ion-list",4),e.DNE(9,p,16,3,"ion-item-sliding",5),e.k0s(),e.DNE(10,h,6,0,"div",6),e.k0s()),2&t&&(e.R7$(9),e.Y8G("ngForOf",n.subcategories),e.R7$(),e.Y8G("ngIf",0===n.subcategories.length))},dependencies:[g.Sq,g.bT,a.Jm,a.QW,a.W9,a.eU,a.iq,a.uz,a.LU,a.CE,a.A7,a.he,a.nf,a.Zx,a.BC,a.ai],styles:['@charset "UTF-8";.subcategory-list[_ngcontent-%COMP%]{margin:0 auto;padding:10px;width:100%;max-width:450px}.subcategory-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:10px;margin:8px 0;padding:10px;background-color:#fff;box-shadow:0 2px 4px #0000001a;transition:transform .2s ease,box-shadow .2s ease}.subcategory-card[_ngcontent-%COMP%]:hover{transform:scale(1.02);box-shadow:0 4px 8px #0003}ion-thumbnail[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;margin-right:10px;overflow:hidden}ion-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;width:100%;height:100%}.subcategory-name[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#333;margin:0}.subcategory-id[_ngcontent-%COMP%]{font-size:.9rem;color:#666;margin:2px 0}ion-item-sliding[_ngcontent-%COMP%]{margin:8px 0;border-radius:10px;overflow:hidden}ion-item-options[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden}ion-item-option[_ngcontent-%COMP%]{text-align:center;padding:10px 0}.subcategory-card[_ngcontent-%COMP%]{--box-shadow: none}ion-item.subcategory-card[_ngcontent-%COMP%]{border:none!important;--ion-border-color: transparent}@media (max-width: 576px){.subcategory-card[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center}ion-thumbnail[_ngcontent-%COMP%]{margin-bottom:10px}ion-item.subcategory-card[_ngcontent-%COMP%]{border:none!important;--ion-border-color: transparent}}']}),i})()}];let C=(()=>{var o;class i{}return(o=i).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[l.iI.forChild(f),l.iI]}),i})(),y=(()=>{var o;class i{}return(o=i).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[g.MD,d.YN,a.bv,C]}),i})()}}]);