"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1412],{1412:(v,m,d)=>{d.r(m),d.d(m,{AgregarMarcaProductoPageModule:()=>y});var P=d(177),c=d(4341),o=d(7125),p=d(1671),l=d(467),t=d(4438),r=d(4934),g=d(3656);const f=[{path:"",component:(()=>{var n;class u{constructor(e,i,s){this.inventoryService=e,this.navCtrl=i,this.alertController=s,this.newBrand={name:"",created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()}}ngOnInit(){}saveBrand(){var e=this;return(0,l.A)(function*(){e.newBrand.name&&""!==e.newBrand.name.trim()?yield(yield e.alertController.create({header:"Confirmar",message:"\xbfEst\xe1s seguro de que deseas guardar esta marca?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Guardar",handler:()=>{var s;e.inventoryService.saveBrand(e.newBrand).subscribe({next:(s=(0,l.A)(function*(a){console.log("API Response:",a),yield e.showAlert("\xc9xito","Marca guardada correctamente."),e.navCtrl.navigateBack("/marcas-productos")}),function(C){return s.apply(this,arguments)}),error:function(){var s=(0,l.A)(function*(a){console.error("API Error:",a),yield e.showAlert("Error","Ocurri\xf3 un error al guardar la marca.")});return function(C){return s.apply(this,arguments)}}()})}}]})).present():yield e.showAlert("Error","El nombre de la Marca no puede estar vac\xedo.")})()}showAlert(e,i){var s=this;return(0,l.A)(function*(){yield(yield s.alertController.create({header:e,message:i,buttons:["OK"]})).present()})()}}return(n=u).\u0275fac=function(e){return new(e||n)(t.rXU(r.c),t.rXU(g.q9),t.rXU(o.hG))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-agregar-marca-producto"]],decls:26,vars:3,consts:[["color","primary"],[1,"form-card"],[3,"submit"],["lines","none"],[1,"form-item"],["position","stacked",1,"title-item"],["name","name","required","",3,"ngModelChange","ngModel"],["name","created_at","readonly","",3,"ngModelChange","ngModel"],["name","updated_at","readonly","",3,"ngModelChange","ngModel"],[1,"footer","edit-footer"],["expand","block","color","primary","type","submit"],["slot","start","name","checkmark-outline"]],template:function(e,i){1&e&&(t.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),t.EFF(3,"Agregar Marca de Producto"),t.k0s()()(),t.j41(4,"ion-content")(5,"div",1)(6,"h2"),t.EFF(7,"Introduce los detalles de la marca de producto"),t.k0s(),t.j41(8,"form",2),t.bIt("submit",function(){return i.saveBrand()}),t.j41(9,"ion-list",3)(10,"ion-item",4)(11,"ion-label",5),t.EFF(12,"Nombre de la Marca"),t.k0s(),t.j41(13,"ion-input",6),t.mxI("ngModelChange",function(a){return t.DH7(i.newBrand.name,a)||(i.newBrand.name=a),a}),t.k0s()(),t.j41(14,"ion-item",4)(15,"ion-label",5),t.EFF(16,"Fecha de Creaci\xf3n"),t.k0s(),t.j41(17,"ion-input",7),t.mxI("ngModelChange",function(a){return t.DH7(i.newBrand.created_at,a)||(i.newBrand.created_at=a),a}),t.k0s()(),t.j41(18,"ion-item",4)(19,"ion-label",5),t.EFF(20,"\xdaltima Actualizaci\xf3n"),t.k0s(),t.j41(21,"ion-input",8),t.mxI("ngModelChange",function(a){return t.DH7(i.newBrand.updated_at,a)||(i.newBrand.updated_at=a),a}),t.k0s()()(),t.j41(22,"ion-footer",9)(23,"ion-button",10),t.nrm(24,"ion-icon",11),t.EFF(25," Guardar Marca "),t.k0s()()()()()),2&e&&(t.R7$(13),t.R50("ngModel",i.newBrand.name),t.R7$(4),t.R50("ngModel",i.newBrand.created_at),t.R7$(4),t.R50("ngModel",i.newBrand.updated_at))},dependencies:[c.qT,c.BC,c.cb,c.YS,c.vS,c.cV,o.Jm,o.W9,o.M0,o.eU,o.iq,o.$w,o.uz,o.he,o.nf,o.BC,o.ai,o.Gw],styles:['@charset "UTF-8";.form-card[_ngcontent-%COMP%]{max-width:600px;margin:40px auto;padding:25px;border-radius:10px;background-color:#fff;box-shadow:0 4px 6px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;font-size:1.6rem;color:#333;margin-bottom:30px;font-weight:700}.form-item[_ngcontent-%COMP%]{margin-bottom:20px;padding-right:15px}ion-label[_ngcontent-%COMP%]{font-weight:700;color:#666;margin-bottom:5px}ion-input[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%]{--padding-start: 12px;border:1px solid #ddd;border-radius:3px;--background: #f9f9f9}ion-select[_ngcontent-%COMP%]{--placeholder-color: #999;margin-top:5px}ion-item[_ngcontent-%COMP%]{--inner-padding-end: 0;--inner-padding-start: 0}.footer[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{border-radius:8px;font-size:1rem;font-weight:700}.title-item[_ngcontent-%COMP%]{margin-bottom:15px}.footer[_ngcontent-%COMP%]{padding:10px;display:flex;justify-content:center}.edit-footer[_ngcontent-%COMP%]{box-shadow:none;margin-top:20px}@media (max-width: 768px){.form-card[_ngcontent-%COMP%]{margin:0 auto}}']}),u})()}];let _=(()=>{var n;class u{}return(n=u).\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({imports:[p.iI.forChild(f),p.iI]}),u})(),y=(()=>{var n;class u{}return(n=u).\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.$C({type:n}),n.\u0275inj=t.G2t({imports:[P.MD,c.YN,o.bv,_]}),u})()},4934:(v,m,d)=>{d.d(m,{c:()=>o});var P=d(4438),c=d(1626);let o=(()=>{var p;class l{constructor(r){this.http=r,this.apiUrl="https://muebleriasolaris.com/ionic-products"}getProducts(r=""){return encodeURIComponent(r),this.http.get(`${this.apiUrl}/inventory_info.php`)}getProductsByProvider(r){return this.http.get(`${this.apiUrl}/inventory_info_by_id.php?provider_id=${r}`)}getProviders(){return this.http.get(`${this.apiUrl}/providers.php`)}getProviderById(r){return this.http.get(`${this.apiUrl}/providers.php?id=${r}`)}saveProvider(r){return this.http.post(`${this.apiUrl}/save_provider.php`,r)}getCategories(){return this.http.get(`${this.apiUrl}/categories.php`)}getBrands(){return this.http.get(`${this.apiUrl}/brands.php`)}saveInventory(){return this.http.get(`${this.apiUrl}/save_inventory.php`)}saveBrand(r){return this.http.post(`${this.apiUrl}/save_brand.php`,r,{headers:{"Content-Type":"application/json"}})}deleteBrand(r){return this.http.post(`${this.apiUrl}/delete_brand.php`,{id:r})}getSubCategories(){return this.http.get(`${this.apiUrl}/sub_categories.php`)}saveProduct(r){return this.http.post(`${this.apiUrl}/save_product.php`,r)}addInventory(r){return this.http.post(`${this.apiUrl}/save_new_product.php`,r)}updateInventory(r,g){return this.http.post(`${this.apiUrl}/update_inventory.php`,{id_product:r,adjustment:g})}deleteProduct(r){return this.http.post(`${this.apiUrl}/delete_product.php`,{product_id:r})}deleteProvider(r){return this.http.post(`${this.apiUrl}/delete_provider.php`,{id:r})}updateProvider(r){return this.http.post(`${this.apiUrl}/update_provider.php`,r)}syncStock(r){return this.http.get(`${this.apiUrl}/inventory_info.php?product_id=${r}`)}}return(p=l).\u0275fac=function(r){return new(r||p)(P.KVO(c.Qq))},p.\u0275prov=P.jDH({token:p,factory:p.\u0275fac,providedIn:"root"}),l})()}}]);