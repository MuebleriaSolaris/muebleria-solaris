"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3390],{3390:(M,m,c)=>{c.r(m),c.d(m,{AgregarSubcategoriaPageModule:()=>_});var d=c(177),i=c(4341),l=c(7125),s=c(620),b=c(467),e=c(4438),p=c(4934);function h(t,u){if(1&t&&(e.j41(0,"option",15),e.EFF(1),e.k0s()),2&t){const n=u.$implicit;e.Y8G("value",n.id),e.R7$(),e.SpI(" ",n.name," ")}}function f(t,u){if(1&t){const n=e.RV6();e.j41(0,"div",3)(1,"label",4),e.EFF(2,"Categor\xeda Padre"),e.k0s(),e.j41(3,"select",12),e.mxI("ngModelChange",function(r){e.eBV(n);const o=e.XpG();return e.DH7(o.newSubcategory.category_id,r)||(o.newSubcategory.category_id=r),e.Njj(r)}),e.j41(4,"option",13),e.EFF(5,"Seleccione una categor\xeda"),e.k0s(),e.DNE(6,h,2,2,"option",14),e.k0s()()}if(2&t){const n=e.XpG();e.R7$(),e.AVh("shrink",n.hasValue(n.newSubcategory.category_id)),e.R7$(2),e.R50("ngModel",n.newSubcategory.category_id),e.R7$(3),e.Y8G("ngForOf",n.categories)}}const S=[{path:"",component:(()=>{var t;class u{constructor(a,r,o){this.inventoryService=a,this.router=r,this.alertController=o,this.newSubcategory={name:"",category_id:"",created_at:"",updated_at:""},this.categories=[]}ngOnInit(){var a=this;return(0,b.A)(function*(){const r=(new Date).toISOString();a.newSubcategory.created_at=r,a.newSubcategory.updated_at=r})()}saveSubcategory(){var a=this;return(0,b.A)(function*(){a.newSubcategory.name&&""!==a.newSubcategory.name?yield(yield a.alertController.create({header:"Confirmar",message:"\xbfEst\xe1s seguro de que deseas guardar esta subcategor\xeda?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Guardar",handler:()=>{a.inventoryService.saveSubcategory(a.newSubcategory).subscribe({next:o=>{o.success?a.router.navigate(["/categorias"]).then(()=>{window.location.reload(),a.showAlert("\xc9xito","Subcategor\xeda guardada correctamente")}):(console.warn("Error al guardar la subcategor\xeda:",o.message),a.showAlert("Error","No se pudo guardar la subcategor\xeda."))},error:o=>{console.error("Error al guardar la subcategor\xeda:",o),a.showAlert("Error","Ocurri\xf3 un error al guardar la subcategor\xeda.")}})}}]})).present():yield a.showAlert("Error","El nombre de la subcategor\xeda no puede estar vac\xedo.")})()}showAlert(a,r){var o=this;return(0,b.A)(function*(){yield(yield o.alertController.create({header:a,message:r,buttons:["OK"]})).present()})()}hasValue(a){return null!=a&&""!==a}}return(t=u).\u0275fac=function(a){return new(a||t)(e.rXU(p.c),e.rXU(s.Ix),e.rXU(l.hG))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-agregar-subcategoria"]],decls:26,vars:10,consts:[["color","primary"],[1,"form-card"],[1,"custom-form",3,"submit"],[1,"form-group"],[1,"floating-label"],["name","name","required","",1,"native-input",3,"ngModelChange","ngModel"],["class","form-group",4,"ngIf"],["name","created_at","readonly","",1,"native-input",3,"ngModelChange","ngModel"],["name","updated_at","readonly","",1,"native-input",3,"ngModelChange","ngModel"],[1,"form-footer"],["type","submit",1,"native-button"],["name","checkmark-outline"],["name","category_id",1,"native-select",3,"ngModelChange","ngModel"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(a,r){1&a&&(e.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),e.EFF(3,"Agregar Subcategor\xeda"),e.k0s()()(),e.j41(4,"ion-content")(5,"div",1)(6,"h2"),e.EFF(7,"Introduce los detalles de la subcategor\xeda"),e.k0s(),e.j41(8,"form",2),e.bIt("submit",function(){return r.saveSubcategory()}),e.j41(9,"div",3)(10,"label",4),e.EFF(11,"Nombre de la Subcategor\xeda"),e.k0s(),e.j41(12,"input",5),e.mxI("ngModelChange",function(g){return e.DH7(r.newSubcategory.name,g)||(r.newSubcategory.name=g),g}),e.k0s()(),e.DNE(13,f,7,4,"div",6),e.j41(14,"div",3)(15,"label",4),e.EFF(16,"Fecha de Creaci\xf3n"),e.k0s(),e.j41(17,"input",7),e.mxI("ngModelChange",function(g){return e.DH7(r.newSubcategory.created_at,g)||(r.newSubcategory.created_at=g),g}),e.k0s()(),e.j41(18,"div",3)(19,"label",4),e.EFF(20,"\xdaltima Actualizaci\xf3n"),e.k0s(),e.j41(21,"input",8),e.mxI("ngModelChange",function(g){return e.DH7(r.newSubcategory.updated_at,g)||(r.newSubcategory.updated_at=g),g}),e.k0s()(),e.j41(22,"div",9)(23,"button",10),e.nrm(24,"ion-icon",11),e.EFF(25," Guardar Subcategor\xeda "),e.k0s()()()()()),2&a&&(e.R7$(10),e.AVh("shrink",r.hasValue(r.newSubcategory.name)),e.R7$(2),e.R50("ngModel",r.newSubcategory.name),e.R7$(),e.Y8G("ngIf",r.categories.length>0),e.R7$(2),e.AVh("shrink",r.hasValue(r.newSubcategory.created_at)),e.R7$(2),e.R50("ngModel",r.newSubcategory.created_at),e.R7$(2),e.AVh("shrink",r.hasValue(r.newSubcategory.updated_at)),e.R7$(2),e.R50("ngModel",r.newSubcategory.updated_at))},dependencies:[d.Sq,d.bT,i.qT,i.xH,i.y7,i.me,i.wz,i.BC,i.cb,i.YS,i.vS,i.cV,l.W9,l.eU,l.iq,l.BC,l.ai],styles:['@charset "UTF-8";.form-card[_ngcontent-%COMP%]{max-width:600px;margin:40px auto;padding:25px;border-radius:10px;background-color:#fff;box-shadow:0 4px 6px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;font-size:1.6rem;color:#333;margin-bottom:30px;font-weight:700}.form-item[_ngcontent-%COMP%]{margin-bottom:20px;padding-right:15px}ion-label[_ngcontent-%COMP%]{font-weight:700;color:#666;margin-bottom:5px}ion-input[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%]{--padding-start: 12px;border:1px solid #ddd;border-radius:3px;--background: #f9f9f9}ion-select[_ngcontent-%COMP%]{--placeholder-color: #999;margin-top:5px}ion-item[_ngcontent-%COMP%]{--inner-padding-end: 0;--inner-padding-start: 0}.footer[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{border-radius:8px;font-size:1rem;font-weight:700}.title-item[_ngcontent-%COMP%]{margin-bottom:15px}.footer[_ngcontent-%COMP%]{padding:10px;display:flex;justify-content:center}.edit-footer[_ngcontent-%COMP%]{box-shadow:none;margin-top:20px}@media (max-width: 768px){.form-card[_ngcontent-%COMP%]{margin:0 auto}}']}),u})()}];let y=(()=>{var t;class u{}return(t=u).\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[s.iI.forChild(S),s.iI]}),u})(),_=(()=>{var t;class u{}return(t=u).\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[d.MD,i.YN,l.bv,y]}),u})()}}]);